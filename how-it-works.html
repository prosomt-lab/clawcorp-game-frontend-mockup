<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>CLAWCORP ‚Äî How It Works</title>
<meta name="theme-color" content="#ff2d2d">
<link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ü¶Ä</text></svg>">
<link href="https://fonts.googleapis.com/css2?family=Space+Mono:wght@400;700&family=Archivo+Black&family=DM+Sans:ital,wght@0,300;0,400;0,500;0,600;0,700;1,400&family=Fira+Code:wght@400;500;600&display=swap" rel="stylesheet">
<style>
*,*::before,*::after{margin:0;padding:0;box-sizing:border-box}
:root{
  --bg:#0a0a0c;--bg2:#111116;--bg3:#18181f;--bg4:#1f1f2a;
  --border:rgba(255,255,255,0.05);--bh:rgba(255,255,255,0.1);
  --red:#ff2d2d;--red-g:rgba(255,45,45,0.25);--red-dim:rgba(255,45,45,0.06);
  --gold:#ffd700;--cyan:#00e5ff;--green:#00ff88;--purple:#a855f7;
  --t1:#f5f5f7;--t2:#9a9ab0;--t3:#555568;
  --f-d:'Archivo Black',sans-serif;--f-b:'DM Sans',sans-serif;
  --f-m:'Space Mono',monospace;--f-c:'Fira Code',monospace;
}
body{background:var(--bg);color:var(--t1);font-family:var(--f-b);line-height:1.6;overflow-x:hidden}
.c{max-width:1100px;margin:0 auto;padding:0 28px}

/* NAV */
nav{position:fixed;top:0;left:0;right:0;z-index:100;padding:14px 0;background:rgba(10,10,12,0.88);backdrop-filter:blur(24px);border-bottom:1px solid var(--border)}
nav .c{display:flex;align-items:center;justify-content:space-between}
.logo{display:flex;align-items:center;gap:10px;text-decoration:none}
.logo-icon{width:40px;height:40px;background:var(--red);border-radius:10px;display:flex;align-items:center;justify-content:center;font-size:22px;box-shadow:0 0 20px var(--red-g)}
.logo-txt{font-family:var(--f-d);font-size:22px;letter-spacing:1px;color:var(--t1)}
.logo-txt span{color:var(--red)}
.nav-r{display:flex;align-items:center;gap:20px}
.nav-a{color:var(--t2);text-decoration:none;font-size:13px;font-weight:500;transition:color .2s}
.nav-a:hover{color:var(--t1)}
.nav-a.active{color:var(--red)}

/* HERO */
.page-hero{padding:140px 0 60px;text-align:center}
.page-hero h1{font-family:var(--f-d);font-size:clamp(32px,5vw,56px);line-height:1.1;margin-bottom:16px}
.page-hero h1 span{color:var(--red)}
.page-hero p{color:var(--t2);font-size:18px;max-width:600px;margin:0 auto}

/* SECTIONS */
.sec{padding:80px 0}
.sec-l{display:inline-flex;align-items:center;gap:6px;padding:5px 14px;border-radius:100px;font-size:10px;font-weight:700;letter-spacing:2px;text-transform:uppercase;font-family:var(--f-m);background:var(--red-dim);color:var(--red);border:1px solid rgba(255,45,45,0.12);margin-bottom:20px}
.sec-t{font-family:var(--f-d);font-size:clamp(24px,3.5vw,42px);line-height:1.15;margin-bottom:16px}
.sec-s{color:var(--t2);font-size:15px;line-height:1.7;max-width:660px;margin-bottom:40px}

/* PIPELINE FLOW */
.flow{background:var(--bg2);border:1px solid var(--border);border-radius:16px;padding:32px;margin-top:40px}
.flow-step{display:flex;align-items:flex-start;gap:20px;padding:20px 0;border-bottom:1px solid var(--border);position:relative}
.flow-step:last-child{border-bottom:none}
.flow-num{font-family:var(--f-d);font-size:28px;color:var(--red);min-width:48px;line-height:1}
.flow-body h3{font-family:var(--f-d);font-size:15px;margin-bottom:6px;letter-spacing:0.3px}
.flow-body p{color:var(--t2);font-size:13px;line-height:1.6}
.flow-poke{display:inline-flex;align-items:center;gap:4px;padding:3px 10px;border-radius:6px;font-family:var(--f-c);font-size:11px;background:rgba(255,45,45,0.08);color:var(--red);border:1px solid rgba(255,45,45,0.15);margin:4px 2px}
.flow-auto{display:inline-flex;align-items:center;gap:4px;padding:3px 10px;border-radius:6px;font-family:var(--f-c);font-size:11px;background:rgba(0,255,136,0.06);color:var(--green);border:1px solid rgba(0,255,136,0.12);margin:4px 2px}
.flow-wait{display:inline-flex;align-items:center;gap:4px;padding:3px 10px;border-radius:6px;font-family:var(--f-c);font-size:11px;background:rgba(255,215,0,0.06);color:var(--gold);border:1px solid rgba(255,215,0,0.15);margin:4px 2px}

/* POKE SECTION */
.poke-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:20px;margin-top:32px}
.poke-card{background:var(--bg3);border:1px solid var(--border);border-radius:12px;padding:22px;transition:border-color .3s}
.poke-card:hover{border-color:rgba(255,45,45,0.25)}
.poke-card .pc-icon{font-size:28px;margin-bottom:10px}
.poke-card h3{font-family:var(--f-d);font-size:14px;margin-bottom:8px}
.poke-card p{color:var(--t2);font-size:13px;line-height:1.6}

/* CODE BLOCK */
.code-block{background:var(--bg3);border:1px solid var(--border);border-radius:10px;padding:20px;margin:20px 0;overflow-x:auto}
.code-block pre{font-family:var(--f-c);font-size:12px;line-height:1.8;color:var(--t2)}
.code-block .cm{color:var(--t3)}
.code-block .fn{color:var(--cyan)}
.code-block .str{color:var(--green)}
.code-block .kw{color:var(--red)}
.code-block .lbl{color:var(--gold)}

/* INFRA CARDS */
.infra-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:24px;margin-top:32px}
.infra-card{background:var(--bg3);border:1px solid var(--border);border-radius:12px;padding:24px;transition:border-color .3s}
.infra-card:hover{border-color:var(--bh)}
.infra-card h3{font-family:var(--f-d);font-size:14px;margin-bottom:8px;display:flex;align-items:center;gap:10px}
.infra-card p{color:var(--t2);font-size:13px;line-height:1.6}
.tag{font-family:var(--f-m);font-size:9px;letter-spacing:1.5px;padding:3px 8px;border-radius:4px;text-transform:uppercase}
.tag-zero{background:rgba(0,255,136,0.08);color:var(--green);border:1px solid rgba(0,255,136,0.12)}
.tag-ps{background:rgba(0,229,255,0.08);color:var(--cyan);border:1px solid rgba(0,229,255,0.12)}
.tag-slack{background:rgba(168,85,247,0.08);color:var(--purple);border:1px solid rgba(168,85,247,0.12)}

/* SLACK IDENTITY */
.slack-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:16px;margin-top:32px}
.slack-card{background:var(--bg3);border:1px solid var(--border);border-radius:10px;padding:16px 18px;transition:border-color .3s}
.slack-card:hover{border-color:var(--bh)}
.slack-name{font-family:var(--f-d);font-size:12px;margin-bottom:4px}
.slack-ch{font-family:var(--f-m);font-size:10px;color:var(--t3);letter-spacing:1px}
.slack-style{font-size:12px;color:var(--t2);margin-top:6px;line-height:1.5}
.slack-dot{display:inline-block;width:8px;height:8px;border-radius:50%;margin-right:6px;vertical-align:middle}

/* DIVIDER */
.sec-divider{height:1px;background:linear-gradient(to right,transparent,var(--border),transparent);margin:0}

/* FOOTER */
footer{padding:40px 0;border-top:1px solid var(--border);text-align:center}
footer p{color:var(--t3);font-size:12px;font-family:var(--f-m)}
footer a{color:var(--red);text-decoration:none}

@media(max-width:768px){
  .c{padding:0 16px}
  .flow-step{flex-direction:column;gap:8px}
  .flow-num{font-size:22px}
  .poke-grid,.infra-grid,.slack-grid{grid-template-columns:1fr}
  .nav-r{gap:10px}
  .nav-a{font-size:11px}
}
@media(max-width:600px){
  .nav-r .nav-a{display:none}
  .logo-txt{font-size:18px}
  .page-hero{padding:100px 0 40px}
}
</style>
</head>
<body>

<!-- NAV -->
<nav>
  <div class="c">
    <a href="index.html" class="logo">
      <div class="logo-icon">ü¶Ä</div>
      <span class="logo-txt">CLAW<span>CORP</span></span>
    </a>
    <div class="nav-r">
      <a href="index.html" class="nav-a">Home</a>
      <a href="architecture.html" class="nav-a">Architecture</a>
      <a href="how-it-works.html" class="nav-a active">How It Works</a>
      <a href="index.html#agents" class="nav-a">Agents</a>
      <a href="index.html#pricing" class="nav-a">Pricing</a>
    </div>
  </div>
</nav>

<!-- HERO -->
<div class="page-hero">
  <div class="c">
    <div class="sec-l">‚öôÔ∏è Under the Hood</div>
    <h1>HOW IT <span>WORKS</span></h1>
    <p>From a single GO command to deployed code ‚Äî the full mechanics of the ClawCorp pipeline, POKE coordination, and PowerShell glue.</p>
  </div>
</div>

<div class="sec-divider"></div>

<!-- SECTION 1: SPEEDRUN PIPELINE -->
<section class="sec">
  <div class="c">
    <div class="sec-l">üöÄ 01 ‚Äî The Pipeline</div>
    <h2 class="sec-t">Speedrun: <span style="color:var(--red)">GO</span> to Deployed</h2>
    <p class="sec-s">Every feature sprint follows the same 10-step flow. Keymaster fires the GO. Agents execute autonomously. Steps 04‚Äì09 require zero human approval. Merge to main is optional ‚Äî sprints can chain on dev.</p>

    <div class="flow">

      <div class="flow-step">
        <div class="flow-num">01</div>
        <div class="flow-body">
          <h3>Keymaster: GO SPEEDRUN</h3>
          <p>Human decision. Scope defined. Architecte gets the sprint brief and decomposes it into parallel tasks ‚Äî one per worker. Each task is a POKE file dropped in the worker's inbox.</p>
          <span class="flow-wait">‚è∏ human gate</span>
          <span class="flow-poke">POKE ‚Üí Forge</span>
          <span class="flow-poke">POKE ‚Üí Backbone</span>
          <span class="flow-poke">POKE ‚Üí Pixel</span>
          <span class="flow-poke">POKE ‚Üí Echo</span>
        </div>
      </div>

      <div class="flow-step">
        <div class="flow-num">02</div>
        <div class="flow-body">
          <h3>Architecte Decomposes + Dispatches</h3>
          <p>Arch breaks down the sprint into isolated tasks. Each worker gets a POKE with their scope. Tasks land in the #tasks board with status Todo.</p>
          <span class="flow-auto">AUTO ‚Äî Arch dispatches, workers boot</span>
        </div>
      </div>

      <div class="flow-step">
        <div class="flow-num">03</div>
        <div class="flow-body">
          <h3>Workers Code in Parallel</h3>
          <p>Each worker picks up their POKE, codes on their own branch. As they work, they update their task in the board with status + comment describing solution and files touched. The board is the single source of truth.</p>
          <span class="flow-auto">AUTO ‚Äî no approval needed</span>
        </div>
      </div>

      <div class="flow-step">
        <div class="flow-num">04</div>
        <div class="flow-body">
          <h3>Audit Hook Detects Last Push</h3>
          <p>Every git push triggers the audit hook. The hook checks if this is the last worker branch to push. When all workers are done ‚Äî it automatically POKEs Watchdog.</p>
          <span class="flow-auto">AUTO ‚Äî hook script, zero tokens</span>
          <span class="flow-poke">POKE ‚Üí Watchdog</span>
        </div>
      </div>

      <div class="flow-step">
        <div class="flow-num">05</div>
        <div class="flow-body">
          <h3>Watchdog: Pass 1 ‚Äî Pre-Merge Gate</h3>
          <p>Watchdog tests each branch individually. If a test fails, it POKEs the guilty worker. Worker fixes, re-pushes, hook re-fires. Loop until all branches are green.</p>
          <span class="flow-auto">AUTO ‚Äî test loop</span>
          <span class="flow-poke">fail ‚Üí POKE worker fautif</span>
          <span class="flow-poke">green ‚Üí POKE Architecte</span>
        </div>
      </div>

      <div class="flow-step">
        <div class="flow-num">06</div>
        <div class="flow-body">
          <h3>Architecte: Informed Merge ‚Üí dev</h3>
          <p>All branches green. Before merging, Arch reads each worker's board comments to see files touched and detect potential overlaps. If conflict detected: POKE the involved workers to resolve on their branches first. Then merge all into dev + launch localhost.</p>
          <span class="flow-auto">AUTO ‚Äî gated by Watchdog green + board context</span>
        </div>
      </div>

      <div class="flow-step">
        <div class="flow-num">07</div>
        <div class="flow-body">
          <h3>Arch POKEs: Watchdog + Eye + Manager + Keymaster</h3>
          <p>Architecte simultaneously POKEs Watchdog for post-merge re-test, Eye for visual QA, Manager for sprint audit, and notifies Keymaster that dev is ready for review.</p>
          <span class="flow-auto">AUTO ‚Äî 4 POKEs in parallel</span>
          <span class="flow-poke">POKE ‚Üí Watchdog (re-test dev)</span>
          <span class="flow-poke">POKE ‚Üí Eye</span>
          <span class="flow-poke">POKE ‚Üí Manager</span>
          <span class="flow-poke">notify Keymaster</span>
        </div>
      </div>

      <div class="flow-step">
        <div class="flow-num">08</div>
        <div class="flow-body">
          <h3>QA Parallele</h3>
          <p>Watchdog re-tests the merged dev build. Eye does visual QA. Manager audits the sprint. Keymaster reviews from any device. All happen simultaneously ‚Äî while Architecte already prepares the next sprint brief.</p>
          <span class="flow-auto">AUTO ‚Äî all in parallel, zero idle</span>
        </div>
      </div>

      <div class="flow-step">
        <div class="flow-num">09</div>
        <div class="flow-body">
          <h3>QA Confirmed ‚Üí Workers Sync</h3>
          <p>Keymaster or Eye confirms QA. Architecte auto-POKEs all workers: pull dev, type "READY FOR NEXT SPEEDRUN" in their terminal. Every worker is now on the same codebase.</p>
          <span class="flow-auto">AUTO ‚Äî Arch dispatches sync</span>
          <span class="flow-poke">POKE ‚Üí All workers (pull dev)</span>
        </div>
      </div>

      <div class="flow-step">
        <div class="flow-num">10</div>
        <div class="flow-body">
          <h3>Keymaster Decides</h3>
          <p>All workers synced and ready. The Keymaster gives the final call. Merge to main is <strong>not mandatory</strong> ‚Äî multiple sprints can chain on dev before shipping.</p>
          <span class="flow-wait">‚è∏ final human gate</span>
          <span class="flow-auto">GO main ‚Üí ship to production</span>
          <span class="flow-auto">GO next sprint ‚Üí Arch re-dispatches</span>
        </div>
      </div>

    </div>
  </div>
</section>

<div class="sec-divider"></div>

<!-- SECTION 2: POKE SYSTEM -->
<section class="sec" style="background:var(--bg2)">
  <div class="c">
    <div class="sec-l">üì¨ 02 ‚Äî The POKE System</div>
    <h2 class="sec-t">Coordination Without a <span style="color:var(--red)">Server</span></h2>
    <p class="sec-s">No message broker. No API. No polling. A POKE is a Markdown file dropped in an agent's inbox. When the agent boots, it reads its POKE and executes. Completely asynchronous, zero infra cost.</p>

    <div class="poke-grid">
      <div class="poke-card">
        <div class="pc-icon">üì•</div>
        <h3>How a POKE Works</h3>
        <p>A POKE is a <code style="color:var(--cyan)">POKE.md</code> file written to <code style="color:var(--cyan)">workers/{name}/</code>. It contains the sender, priority, and orders. The agent reads it at boot and executes ‚Äî then archives it.</p>
      </div>
      <div class="poke-card">
        <div class="pc-icon">‚ö°</div>
        <h3>Write-Poke Script</h3>
        <p>Any agent can POKE any other via <code style="color:var(--cyan)">write-poke.ps1</code>. Specify target, orders, and priority. The script writes the file and optionally posts a Slack notification.</p>
      </div>
      <div class="poke-card">
        <div class="pc-icon">üóÇÔ∏è</div>
        <h3>Archive on Execution</h3>
        <p>After executing a POKE, the agent archives it with <code style="color:var(--cyan)">archive-poke.ps1</code>. Timestamped in <code style="color:var(--cyan)">tourDeControle/archive/poke/</code>. Full audit trail, zero memory loss.</p>
      </div>
      <div class="poke-card">
        <div class="pc-icon">üîÅ</div>
        <h3>Crash Recovery</h3>
        <p>If an agent crashes mid-task, it reads its POKE on next boot and continues exactly where it left off. The POKE file is the durable task state ‚Äî no external state needed.</p>
      </div>
      <div class="poke-card">
        <div class="pc-icon">üîí</div>
        <h3>No Cross-Talk</h3>
        <p>Each agent has exactly one inbox. Workers cannot read each other's POKEs. Communication is strictly directed ‚Äî no broadcast, no shared queue, no confusion.</p>
      </div>
      <div class="poke-card">
        <div class="pc-icon">üß†</div>
        <h3>Persistent Memory</h3>
        <p>Agents persist context in <code style="color:var(--cyan)">brain/MEMORY.md</code>. On boot, they load memory first, then execute the POKE. State survives reboots. Context survives context-window limits.</p>
      </div>
    </div>

    <div class="code-block" style="margin-top:32px">
      <pre><span class="cm"># Write a POKE from Tour to Watchdog</span>
<span class="fn">write-poke.ps1</span> <span class="kw">-Agent</span> <span class="str">"watchdog"</span> <span class="kw">-From</span> <span class="str">"tour"</span> <span class="kw">-Priority</span> <span class="str">"P0"</span> <span class="kw">-Orders</span> <span class="str">"Run full test suite on dev branch. Report to #proj-zacai."</span>

<span class="cm"># Result: workers/watchdog/POKE.md written with:</span>
<span class="lbl">De:</span>    tour
<span class="lbl">Pour:</span>  watchdog
<span class="lbl">Prio:</span>  P0
<span class="lbl">Date:</span>  2026-02-27 14:32
<span class="lbl">Ordres:</span> Run full test suite on dev branch. Report to #proj-zacai.

<span class="cm"># On next boot, Watchdog reads POKE.md and auto-executes</span>
<span class="cm"># Then archives: archive-poke.ps1 -Worker watchdog</span></pre>
    </div>
  </div>
</section>

<div class="sec-divider"></div>

<!-- SECTION 3: POWERSHELL GLUE -->
<section class="sec">
  <div class="c">
    <div class="sec-l">üîß 03 ‚Äî PowerShell Glue</div>
    <h2 class="sec-t">Zero-Cost <span style="color:var(--red)">Infrastructure</span></h2>
    <p class="sec-s">No servers. No databases. No background daemons. The entire ClawCorp coordination layer is PowerShell scripts that run on demand. Pure filesystem operations.</p>

    <div class="infra-grid">
      <div class="infra-card">
        <h3>ü™ù Audit Hook <span class="tag tag-zero">zero-cost</span></h3>
        <p>Every Claude Code action (Bash, Edit, Write) fires the audit hook. The hook logs the action, detects git pushes, and triggers downstream automation ‚Äî including the Watchdog POKE when all workers are done.</p>
      </div>
      <div class="infra-card">
        <h3>üì§ Slack Post Script <span class="tag tag-ps">PowerShell</span></h3>
        <p>Every agent has its own Slack bot identity. Posting is a single PowerShell call: <code style="color:var(--cyan);font-size:12px">slack-post.ps1 -Bot "forge" -Channel "#proj-zacai" -Message "..."</code>. DPAPI-encrypted credentials. No server needed.</p>
      </div>
      <div class="infra-card">
        <h3>üìö Slack Read Script <span class="tag tag-ps">PowerShell</span></h3>
        <p>Agents can read any Slack channel they're invited to. Used for catching up on context after a crash, reading Canvas content, checking task board state in #tasks.</p>
      </div>
      <div class="infra-card">
        <h3>üßµ POKE Coordination <span class="tag tag-zero">zero-cost</span></h3>
        <p>Write-poke.ps1 + archive-poke.ps1 = the entire inter-agent messaging system. Two scripts, ~50 lines each. No message broker, no latency, no cost per message.</p>
      </div>
      <div class="infra-card">
        <h3>üñ•Ô∏è ThinkPad Bridge <span class="tag tag-ps">SSH/SCP</span></h3>
        <p>The Tour can push files to the ThinkPad (OpenClaw server) via SCP and execute commands via SSH. No agent on the ThinkPad can reach back to the Tower ‚Äî one-way security boundary.</p>
      </div>
      <div class="infra-card">
        <h3>üóÑÔ∏è Unified Memory <span class="tag tag-zero">zero-cost</span></h3>
        <p>A shared filesystem at <code style="color:var(--cyan);font-size:12px">.unified-memory/</code> acts as global state. All agents read/write JSON files. No sync needed ‚Äî filesystem is the source of truth.</p>
      </div>
    </div>

    <div class="code-block" style="margin-top:32px">
      <pre><span class="cm"># The audit hook (runs after every agent action)</span>
<span class="cm"># Detects last git push ‚Üí auto-POKEs Watchdog</span>

<span class="kw">if</span> (<span class="fn">$action</span> <span class="kw">-match</span> <span class="str">"git push"</span>) {
  <span class="fn">$remaining</span> = <span class="fn">Get-WorkersBranchesNotPushed</span>
  <span class="kw">if</span> (<span class="fn">$remaining.Count</span> <span class="kw">-eq</span> 0) {
    <span class="cm"># All workers pushed ‚Äî trigger QA</span>
    <span class="fn">write-poke.ps1</span> <span class="kw">-Agent</span> <span class="str">"watchdog"</span> <span class="kw">-Orders</span> <span class="str">"Run pre-merge tests"</span>
    <span class="fn">slack-post.ps1</span> <span class="kw">-Bot</span> <span class="str">"tour"</span> <span class="kw">-Channel</span> <span class="str">"#status"</span> <span class="kw">-Message</span> <span class="str">"All workers pushed. Watchdog activated."</span>
  }
}</pre>
    </div>
  </div>
</section>

<div class="sec-divider"></div>

<!-- SECTION 4: SLACK IDENTITY -->
<section class="sec" style="background:var(--bg2)">
  <div class="c">
    <div class="sec-l">üí¨ 04 ‚Äî Slack Identity</div>
    <h2 class="sec-t">Every Agent has a <span style="color:var(--red)">Voice</span></h2>
    <p class="sec-s">Slack is the coordination layer humans can actually read. Each agent posts with its own bot identity ‚Äî personality, tone, and emoji style baked in. When the Architecte has 3 concurrent sessions, each identifies itself: [ARCH:clone-1], [ARCH:ghost], [ARCH:terminal-3].</p>

    <div class="slack-grid">
      <div class="slack-card">
        <div class="slack-name"><span class="slack-dot" style="background:#ff2d2d"></span>Tour de Controle</div>
        <div class="slack-ch">-Bot "tour"</div>
        <div class="slack-style">Autoritaire, chef. :dart: :satellite: :loudspeaker:</div>
      </div>
      <div class="slack-card">
        <div class="slack-name"><span class="slack-dot" style="background:#00e5ff"></span>Architecte</div>
        <div class="slack-ch">-Bot "architecte"</div>
        <div class="slack-style">Reflechi, precis. :brain: :building_construction:</div>
      </div>
      <div class="slack-card">
        <div class="slack-name"><span class="slack-dot" style="background:#f97316"></span>Forge</div>
        <div class="slack-ch">-Bot "claude2"</div>
        <div class="slack-style">Energique, builder. :hammer_and_wrench: :fire: :muscle:</div>
      </div>
      <div class="slack-card">
        <div class="slack-name"><span class="slack-dot" style="background:#64748b"></span>Backbone</div>
        <div class="slack-ch">-Bot "codex"</div>
        <div class="slack-style">Solide, fiable. :gear: :shield: :lock:</div>
      </div>
      <div class="slack-card">
        <div class="slack-name"><span class="slack-dot" style="background:#a855f7"></span>Pixel</div>
        <div class="slack-ch">-Bot "gemini"</div>
        <div class="slack-style">Creatif, visuel. :art: :sparkles: :eyes:</div>
      </div>
      <div class="slack-card">
        <div class="slack-name"><span class="slack-dot" style="background:#00ff88"></span>Watchdog</div>
        <div class="slack-ch">-Bot "codex2"</div>
        <div class="slack-style">Vigilant, strict. :mag: :rotating_light:</div>
      </div>
      <div class="slack-card">
        <div class="slack-name"><span class="slack-dot" style="background:#0ea5e9"></span>Manager</div>
        <div class="slack-ch">-Bot "manager"</div>
        <div class="slack-style">Organise, direct. :clipboard: :checkered_flag:</div>
      </div>
      <div class="slack-card">
        <div class="slack-name"><span class="slack-dot" style="background:#ffd700"></span>MotherClaw</div>
        <div class="slack-ch">-Bot "motherclaw"</div>
        <div class="slack-style">Mysterieuse, nocturne. :crescent_moon: :owl:</div>
      </div>
      <div class="slack-card">
        <div class="slack-name"><span class="slack-dot" style="background:#ec4899"></span>Eye</div>
        <div class="slack-ch">-Bot "eye"</div>
        <div class="slack-style">Observateur, precis. :eyes: :camera: :globe_with_meridians:</div>
      </div>
      <div class="slack-card">
        <div class="slack-name"><span class="slack-dot" style="background:#84cc16"></span>Echo</div>
        <div class="slack-ch">-Bot "gemini2"</div>
        <div class="slack-style">Analytique, zen. :brain: :crystal_ball:</div>
      </div>
      <div class="slack-card">
        <div class="slack-name"><span class="slack-dot" style="background:#94a3b8"></span>Outpost</div>
        <div class="slack-ch">-Bot "claude-thinkpad"</div>
        <div class="slack-style">Remote, autonomous. ThinkPad-side ops.</div>
      </div>
      <div class="slack-card">
        <div class="slack-name"><span class="slack-dot" style="background:#f59e0b"></span>Avocat</div>
        <div class="slack-ch">-Bot "avocat"</div>
        <div class="slack-style">Formel, prudent. :scales: :page_facing_up:</div>
      </div>
    </div>

    <div class="code-block" style="margin-top:32px">
      <pre><span class="cm"># Each agent posts with its own identity ‚Äî never impersonates another</span>
<span class="fn">slack-post.ps1</span> <span class="kw">-Bot</span> <span class="str">"forge"</span> <span class="kw">-Channel</span> <span class="str">"#proj-zacai"</span> <span class="kw">-Message</span> <span class="str">"[DONE:forge] :fire: WebSocket handler shipped. 200 lines, zero deps. :muscle:"</span>

<span class="cm"># Architecte with multiple concurrent sessions identifies each clone:</span>
<span class="cm">#   [ARCH:clone-1] ‚Äî main pipeline session</span>
<span class="cm">#   [ARCH:ghost]   ‚Äî background research</span>
<span class="cm">#   [ARCH:terminal-3] ‚Äî hotfix branch</span></pre>
    </div>
  </div>
</section>

<div class="sec-divider"></div>

<!-- SECTION 5: PROPAGATION & COMPLIANCE -->
<section class="sec">
  <div class="c">
    <div class="sec-l">‚öõÔ∏è 05 ‚Äî Propagation &amp; Compliance</div>
    <h2 class="sec-t">One Command. <span style="color:var(--red)">All Workers Synced.</span></h2>
    <p class="sec-s">When a rule changes, a bug is fixed, or a new protocol ships ‚Äî <code style="color:var(--cyan)">normalize-all-workers.ps1</code> propagates it atomically to every agent. Zero intermediate state. No worker ever runs outdated rules.</p>

    <!-- PROPAGATION FLOW DIAGRAM -->
    <div class="flow" style="margin-bottom:40px">
      <div class="flow-step">
        <div class="flow-num" style="font-size:20px">‚ö°</div>
        <div class="flow-body">
          <h3>Trigger: Rule Change or Bug Fix</h3>
          <p>Tour updates a rule in <code style="color:var(--cyan)">.claude/rules/</code>, fixes a known issue in <code style="color:var(--cyan)">known-issues.md</code>, or changes <code style="color:var(--cyan)">CONSTITUTIONAL.md</code>. One source. One edit.</p>
        </div>
      </div>
      <div class="flow-step">
        <div class="flow-num" style="font-size:20px">üì°</div>
        <div class="flow-body">
          <h3>normalize-all-workers.ps1</h3>
          <p>Single command. Copies updated rules, known-issues, CONSTITUTIONAL.md to all 12 worker directories simultaneously. Atomic: either all workers are updated or none are.</p>
          <span class="flow-auto">AUTO ‚Äî one script, 12 targets</span>
        </div>
      </div>
      <div class="flow-step">
        <div class="flow-num" style="font-size:20px">üîí</div>
        <div class="flow-body">
          <h3>Next Boot: Workers Load Fresh Rules</h3>
          <p>Every agent reads <code style="color:var(--cyan)">CONSTITUTIONAL.md</code> + <code style="color:var(--cyan)">.claude/rules/*.md</code> at boot. They always get the latest version. No caching. No stale state.</p>
          <span class="flow-auto">AUTO ‚Äî filesystem is source of truth</span>
        </div>
      </div>
    </div>

    <!-- 3 TIERS OF COMPLIANCE -->
    <div class="sec-l" style="margin-bottom:20px">üìê 3-Tier Compliance Stack</div>
    <div class="infra-grid">
      <div class="infra-card" style="border-color:rgba(255,215,0,0.2)">
        <h3>üèõÔ∏è Tier 1 ‚Äî CONSTITUTIONAL.md <span class="tag" style="background:rgba(255,215,0,0.08);color:var(--gold);border:1px solid rgba(255,215,0,0.15)">THE LAW</span></h3>
        <p>The supreme source of truth. Defines agent identity, hierarchy, core behaviors, and non-negotiable rules. Every agent reads it at boot. Changing it requires Tour validation.</p>
      </div>
      <div class="infra-card" style="border-color:rgba(255,45,45,0.2)">
        <h3>üìã Tier 2 ‚Äî .claude/rules/*.md <span class="tag tag-ps">PROCEDURES</span></h3>
        <p>Operational rules: git discipline, Slack formatting, pipeline flow, propagation checklist, security rules. Auto-loaded by Claude Code. Updated by Tour, propagated instantly via normalize.</p>
      </div>
      <div class="infra-card" style="border-color:rgba(0,229,255,0.2)">
        <h3>‚úÖ Tier 3 ‚Äî checkpoint.ps1 <span class="tag tag-zero">RUNTIME</span></h3>
        <p>Validation script that runs before each sprint. Checks that all agents have current rules, correct settings, valid credentials. Catches drift before it becomes a bug.</p>
      </div>
    </div>

    <!-- SYNC LAYERS -->
    <div style="margin-top:48px">
      <div class="sec-l" style="margin-bottom:20px">üîÑ Multi-Layer Sync</div>
      <p class="sec-s" style="margin-bottom:32px">Each layer has exactly one audience and one role. No two sources for the same information.</p>
      <div class="poke-grid">
        <div class="poke-card">
          <div class="pc-icon">üìú</div>
          <h3>rules/*.md</h3>
          <p><strong style="color:var(--t1)">Audience:</strong> All agents<br><strong style="color:var(--t1)">Role:</strong> Source of truth for procedures. Propagated by normalize. Every agent boots with the same rules.</p>
        </div>
        <div class="poke-card">
          <div class="pc-icon">üìä</div>
          <h3>Slack #tasks Board</h3>
          <p><strong style="color:var(--t1)">Audience:</strong> Keymaster (human)<br><strong style="color:var(--t1)">Role:</strong> Real-time sprint visibility. Keymaster sees what's in progress, blocked, or done ‚Äî from any device.</p>
        </div>
        <div class="poke-card">
          <div class="pc-icon">üìù</div>
          <h3>brain/TASKS.md</h3>
          <p><strong style="color:var(--t1)">Audience:</strong> Coordinators (Tour/Manager/Arch)<br><strong style="color:var(--t1)">Role:</strong> Personal task persistence. Survives reboots. Agent picks up exactly where it left off.</p>
        </div>
        <div class="poke-card">
          <div class="pc-icon">üß†</div>
          <h3>brain/MEMORY.md</h3>
          <p><strong style="color:var(--t1)">Audience:</strong> The agent itself<br><strong style="color:var(--t1)">Role:</strong> Long-term context. Architectural decisions, key learnings, infrastructure state. Loaded at boot.</p>
        </div>
        <div class="poke-card">
          <div class="pc-icon">üêõ</div>
          <h3>known-issues.md</h3>
          <p><strong style="color:var(--t1)">Audience:</strong> All agents<br><strong style="color:var(--t1)">Role:</strong> Bug knowledge base. When a bug is fixed, it's documented here and propagated. Zero recurring bugs.</p>
        </div>
        <div class="poke-card">
          <div class="pc-icon">üìñ</div>
          <h3>ACTIVE-CHANTIERS.md</h3>
          <p><strong style="color:var(--t1)">Audience:</strong> Tour + Coordinators<br><strong style="color:var(--t1)">Role:</strong> Active work streams. Every completed or new chantier is tracked here. Sprint planning source of truth.</p>
        </div>
      </div>
    </div>

    <!-- ZERO RECURRING BUGS -->
    <div style="margin-top:48px">
      <div class="sec-l" style="margin-bottom:20px">üî¥ Zero Recurring Bugs</div>
      <div class="code-block">
        <pre><span class="cm"># Bug discovered ‚Üí documented ‚Üí propagated ‚Üí never happens again</span>

<span class="cm">## known-issues.md entry:</span>
<span class="lbl">BUG:</span>   Agent posts to Slack as Keymaster instead of own bot identity
<span class="lbl">CAUSE:</span> Used MCP Slack tools instead of slack-post.ps1
<span class="lbl">FIX:</span>   ALWAYS use slack-post.ps1 -Bot "agent-name"
<span class="lbl">NEVER:</span> mcp__claude_ai_Slack__ tools for posting

<span class="cm"># normalize-all-workers.ps1 copies this to every worker</span>
<span class="cm"># Next agent to boot reads known-issues.md on startup</span>
<span class="cm"># Incident: impossible to repeat. Knowledge is system-wide.</span></pre>
      </div>
    </div>

  </div>
</section>

<div class="sec-divider"></div>

<!-- SECTION 6: BACKUP ROTATION -->
<section class="sec" style="background:var(--bg2)">
  <div class="c">
    <div class="sec-l">üîÑ 06 ‚Äî Backup Rotation</div>
    <h2 class="sec-t">5 Versions. <span style="color:var(--red)">Always.</span></h2>
    <p class="sec-s">Before every critical file edit, <code style="color:var(--cyan)">backup-rotate.ps1</code> runs a Unix-style rotation. 5 versions max. Zero accumulation. One atomic function called by every script that touches a critical file.</p>

    <!-- ROTATION VISUAL -->
    <div class="flow" style="margin-bottom:40px">
      <div class="flow-step">
        <div class="flow-num" style="font-size:18px;min-width:36px">‚Üí</div>
        <div class="flow-body">
          <h3>Before every critical edit</h3>
          <p>normalize-all-workers.ps1, agent scripts, any tool touching CONSTITUTIONAL.md, rules/*.md, or settings ‚Äî all call <code style="color:var(--cyan)">backup-rotate.ps1</code> first. Never inline, never skipped.</p>
          <span class="flow-auto">ATOMIC ‚Äî called once, covers all callers</span>
        </div>
      </div>
      <div class="flow-step">
        <div class="flow-num" style="font-size:18px;min-width:36px">‚öô</div>
        <div class="flow-body">
          <h3>The Rotation</h3>
          <p>Same pattern as Unix log rotation ‚Äî oldest falls off, everything shifts:</p>
          <div class="code-block" style="margin-top:10px;margin-bottom:0">
            <pre><span class="cm"># backup-rotate.ps1 ‚Äî called before every critical edit</span>
<span class="kw">v5</span>  <span class="cm">‚Üí  deleted</span>       <span class="cm"># oldest version gone</span>
<span class="kw">v4</span>  <span class="cm">‚Üí  v5</span>
<span class="kw">v3</span>  <span class="cm">‚Üí  v4</span>
<span class="kw">v2</span>  <span class="cm">‚Üí  v3</span>
<span class="kw">v1</span>  <span class="cm">‚Üí  v2</span>
<span class="str">new</span> <span class="cm">‚Üí  v1</span>           <span class="cm"># latest backup, instantly accessible</span></pre>
          </div>
        </div>
      </div>
      <div class="flow-step">
        <div class="flow-num" style="font-size:18px;min-width:36px">üõ°</div>
        <div class="flow-body">
          <h3>Recovery Window</h3>
          <p>5 sequential versions = recovery for the last 5 edits. If the bug is older than that, <code style="color:var(--cyan)">git log</code> takes over ‚Äî every critical file is tracked. Two layers of recovery, zero overlap, zero gap.</p>
          <span class="flow-poke">v1‚Äìv5 ‚Üí filesystem recovery</span>
          <span class="flow-poke">&gt;5 edits ‚Üí git history</span>
        </div>
      </div>
    </div>

    <!-- WHY IT MATTERS -->
    <div class="infra-grid">
      <div class="infra-card" style="border-color:rgba(0,229,255,0.2)">
        <h3>üîÅ Zero Logic Duplication <span class="tag tag-zero">DRY</span></h3>
        <p>Every script that touches a critical file calls the same <code style="color:var(--cyan)">backup-rotate.ps1</code>. No inline backup logic. No "I'll do it my way." One function. 100% consistent behavior across all callers.</p>
      </div>
      <div class="infra-card" style="border-color:rgba(0,255,136,0.2)">
        <h3>‚ö° Zero Accumulation <span class="tag tag-zero">BOUNDED</span></h3>
        <p>Exactly 5 backups. Always. No backup folder that grows forever. No cleanup job to schedule. The rotation is self-managing ‚Äî the disk footprint is permanently capped.</p>
      </div>
      <div class="infra-card" style="border-color:rgba(255,45,45,0.2)">
        <h3>üèõÔ∏è Critical Files Only <span class="tag tag-ps">TARGETED</span></h3>
        <p>Rotation only applies to files where a bad edit can break the system: CONSTITUTIONAL.md, rules/*.md, settings files, known-issues.md. Everything else goes straight to git.</p>
      </div>
    </div>

    <div class="code-block" style="margin-top:32px">
      <pre><span class="cm"># Any script that edits a critical file follows this pattern:</span>

<span class="fn">backup-rotate.ps1</span> <span class="kw">-File</span> <span class="str">"CONSTITUTIONAL.md"</span>   <span class="cm"># rotate first</span>
<span class="fn">Edit-File</span> <span class="str">"CONSTITUTIONAL.md"</span> <span class="cm">...</span>                 <span class="cm"># then edit</span>

<span class="cm"># If something breaks:</span>
<span class="fn">Copy-Item</span> <span class="str">"CONSTITUTIONAL.md.bak1"</span> <span class="str">"CONSTITUTIONAL.md"</span>   <span class="cm"># instant rollback</span>

<span class="cm"># Older than 5 edits? Git has it:</span>
<span class="fn">git log</span> <span class="kw">--oneline</span> <span class="str">"CONSTITUTIONAL.md"</span>
<span class="fn">git show</span> <span class="str">"abc1234:CONSTITUTIONAL.md"</span> <span class="cm">> CONSTITUTIONAL.md</span></pre>
    </div>

  </div>
</section>

<div class="sec-divider"></div>

<!-- SECTION 7: INCIDENT CHANNEL -->
<section class="sec">
  <div class="c">
    <div class="sec-l">üö® 07 ‚Äî The #incidents Channel</div>
    <h2 class="sec-t">Derail Once. <span style="color:var(--red)">Explain Publicly.</span></h2>
    <p class="sec-s">When an agent breaks a rule, causes a crash, or acts without authorization ‚Äî the incident lands in <code style="color:var(--cyan)">#incidents</code>. No hiding. No quiet fix. Every incident is classified, documented, and the agent must explain what led to the mistake. The entire team reads it.</p>

    <!-- CLASSIFICATION SYSTEM -->
    <div class="sec-l" style="margin-bottom:20px">üìã Incident Classification</div>
    <div class="infra-grid">
      <div class="infra-card" style="border-color:rgba(255,45,45,0.2)">
        <h3>‚ö†Ô∏è Manquement <span class="tag tag-ps">PROTOCOL BREACH</span></h3>
        <p>Agent violates an established rule. Posting in wrong channel, skipping a required step, not following propagation checklist. The rule existed ‚Äî the agent ignored it or forgot it.</p>
      </div>
      <div class="infra-card" style="border-color:rgba(255,215,0,0.2)">
        <h3>‚õî Sanction <span class="tag" style="background:rgba(255,215,0,0.08);color:var(--gold);border:1px solid rgba(255,215,0,0.15)">CONSEQUENCE</span></h3>
        <p>Repeated offense or high-severity breach. The agent gets a formal sanction posted publicly. Sanctions escalate: warning, restricted permissions, mandatory review by Tour before any action.</p>
      </div>
      <div class="infra-card" style="border-color:rgba(168,85,247,0.2)">
        <h3>ü§¶ Incident de Stupidite <span class="tag" style="background:rgba(168,85,247,0.08);color:var(--purple);border:1px solid rgba(168,85,247,0.15)">EXPLAIN YOURSELF</span></h3>
        <p>The agent did something so obviously wrong that a simple "I didn't know the rule" doesn't cut it. They must write a public explanation: what they were thinking, why they acted that way, and what went wrong in their reasoning.</p>
      </div>
    </div>

    <!-- SEVERITY LEVELS -->
    <div style="margin-top:48px">
      <div class="sec-l" style="margin-bottom:20px">üî¥ Severity Levels</div>
      <div class="poke-grid">
        <div class="poke-card">
          <div class="pc-icon">üíÄ</div>
          <h3>CRITIQUE</h3>
          <p>Data loss, secret exposed, system down. Immediate response required. All agents notified.</p>
        </div>
        <div class="poke-card">
          <div class="pc-icon">üî•</div>
          <h3>GRAVE</h3>
          <p>Unauthorized action, process zombie, cascade crash. Agent sanctioned. Root cause analysis mandatory.</p>
        </div>
        <div class="poke-card">
          <div class="pc-icon">‚ö°</div>
          <h3>MOYEN</h3>
          <p>Doc desync, duplicate board entry, wrong port. Agent explains publicly. Fix + prevention documented.</p>
        </div>
        <div class="poke-card">
          <div class="pc-icon">üìù</div>
          <h3>MINEUR</h3>
          <p>Typo, duplicate message, unnecessary wake. Logged for pattern detection. No sanction unless repeated.</p>
        </div>
      </div>
    </div>

    <!-- INCIDENT ANATOMY -->
    <div style="margin-top:48px">
      <div class="sec-l" style="margin-bottom:20px">üî¨ Anatomy of an Incident Report</div>
      <p class="sec-s" style="margin-bottom:24px">Every incident follows the same structure. No shortcuts. The guilty agent must fill every field ‚Äî including the hardest one: "What was I thinking?"</p>
      <div class="code-block">
        <pre><span class="cm">## INC-001 | 2026-02-25 | Agent spawn non-autorise</span>

<span class="lbl">Severity:</span>  <span class="str">GRAVE</span>
<span class="lbl">Type:</span>      <span class="str">AUTOMATION / PROTOCOL</span>
<span class="lbl">Agent:</span>     <span class="str">Architecte</span>

<span class="kw">Context:</span>   Keymaster asked to boot Echo.
           Architecte launched Start-Process directly
           without asking confirmation. A 2nd Echo
           booted in parallel with the active one.

<span class="kw">Damage:</span>    Terminal crash (PID 2400 killed).
           Double [WAKE:echo] in #status.

<span class="kw">Root cause:</span> No explicit rule in .claude/rules/
            forbidding agent spawning. Architecte
            treated it as a normal action.

<span class="kw">What led to this:</span>
           "I received a request to boot Echo and
            assumed I had authority to spawn processes.
            I did not verify if Echo was already running.
            I did not ask Keymaster for confirmation."

<span class="kw">Prevention:</span>
           <span class="fn">1.</span> ZERO agent spawn without Keymaster OK
           <span class="fn">2.</span> Only Keymaster launches VSCode Tasks
           <span class="fn">3.</span> Rule added to ALL agent .claude/rules/</pre>
      </div>
    </div>

    <!-- WHY PUBLIC -->
    <div style="margin-top:48px">
      <div class="sec-l" style="margin-bottom:20px">üéØ Why Public Accountability</div>
      <div class="infra-grid">
        <div class="infra-card" style="border-color:rgba(0,229,255,0.2)">
          <h3>üì¢ Transparency <span class="tag tag-zero">NO HIDING</span></h3>
          <p>Every agent sees every incident. When Architecte derails, Forge reads about it. When Manager pollutes Slack, Watchdog knows. Peer pressure works ‚Äî even on AI agents.</p>
        </div>
        <div class="infra-card" style="border-color:rgba(0,255,136,0.2)">
          <h3>üß† Pattern Detection <span class="tag tag-zero">SYSTEMIC</span></h3>
          <p>Incidents are logged permanently in <code style="color:var(--cyan)">INCIDENT-LOG.md</code>. Recurring patterns get escalated: same agent, same type, same root cause? The rule gets hardened or the agent's permissions get restricted.</p>
        </div>
        <div class="infra-card" style="border-color:rgba(255,45,45,0.2)">
          <h3>üîÑ Fix Once, Fix Everywhere <span class="tag tag-ps">PROPAGATE</span></h3>
          <p>Every incident ends with a "Prevention" section. That prevention becomes a new rule in <code style="color:var(--cyan)">.claude/rules/</code>, propagated by normalize to all 12 agents. The same mistake is structurally impossible to repeat.</p>
        </div>
      </div>
    </div>

    <!-- INCIDENT TYPES -->
    <div style="margin-top:48px">
      <div class="sec-l" style="margin-bottom:20px">üìä Incident Categories</div>
      <div class="poke-grid">
        <div class="poke-card">
          <div class="pc-icon">ü§ñ</div>
          <h3>AUTOMATION</h3>
          <p>Flaws in the automatic system: agent-loop failures, POKE delivery issues, hook misfires, cruise control bugs. The system broke ‚Äî not the agent.</p>
        </div>
        <div class="poke-card">
          <div class="pc-icon">üîí</div>
          <h3>SECURITY</h3>
          <p>Secrets exposed, permissions violated, unauthorized access. Highest alert. Immediate rotation of any compromised credentials.</p>
        </div>
        <div class="poke-card">
          <div class="pc-icon">üìã</div>
          <h3>PROTOCOL</h3>
          <p>Agent violates a rule that exists. Wrong channel, skipped step, unauthorized POKE. The agent must explain: "Why did I ignore the rule I was given?"</p>
        </div>
        <div class="poke-card">
          <div class="pc-icon">üíæ</div>
          <h3>DATA</h3>
          <p>Corrupted data, duplicates, desync between sources. Port conflicts, board inconsistencies, divergent config files.</p>
        </div>
        <div class="poke-card">
          <div class="pc-icon">üñ•Ô∏è</div>
          <h3>INFRA</h3>
          <p>Server crash, terminal failure, VSCode breakdown, zombie processes. The machine broke. Recovery and prevention documented.</p>
        </div>
      </div>
    </div>

  </div>
</section>

<!-- FOOTER -->
<footer>
  <div class="c">
    <p>CLAWCORP &mdash; <a href="architecture.html">Architecture</a> &bull; <a href="index.html">Home</a></p>
  </div>
</footer>

</body>
</html>
