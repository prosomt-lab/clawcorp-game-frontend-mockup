<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>CLAWCORP â€” How It Works</title>
<meta name="theme-color" content="#7c4dff">
<link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ðŸ¦€</text></svg>">
<link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&family=VT323&family=Orbitron:wght@400;500;600;700;800;900&family=DM+Sans:ital,wght@0,300;0,400;0,500;0,600;0,700;1,400&family=Fira+Code:wght@400;500;600&display=swap" rel="stylesheet">
<style>
*,*::before,*::after{margin:0;padding:0;box-sizing:border-box}
:root{
  --bg:#0a0a1a;--bg2:#0d0d28;--bg3:#111138;--bg4:#1a1a4a;
  --border:rgba(124,77,255,0.12);--bh:rgba(124,77,255,0.25);
  --red:#7c4dff;--red-g:rgba(124,77,255,0.25);--red-dim:rgba(124,77,255,0.08);
  --gold:#ffd700;--cyan:#00e5ff;--green:#00ff88;
  --t1:#f5f5f7;--t2:#9a9ab0;--t3:#555568;
  --f-d:'Press Start 2P',monospace;--f-b:'DM Sans',sans-serif;
  --f-m:'VT323',monospace;--f-c:'Fira Code',monospace;
}
body{background:var(--bg);color:var(--t1);font-family:var(--f-b);line-height:1.6;overflow-x:hidden}
body::after{content:'';position:fixed;inset:0;background:repeating-linear-gradient(0deg,transparent,transparent 2px,rgba(124,77,255,0.03) 2px,rgba(124,77,255,0.03) 4px);pointer-events:none;z-index:9999}
.c{max-width:1100px;margin:0 auto;padding:0 28px}

/* NAV */
nav{position:fixed;top:0;left:0;right:0;z-index:100;padding:14px 0;background:rgba(10,10,26,0.92);backdrop-filter:blur(24px);border-bottom:1px solid var(--border)}
nav .c{display:flex;align-items:center;justify-content:space-between}
.logo{display:flex;align-items:center;gap:10px;text-decoration:none}
.logo-icon{width:40px;height:40px;background:#0a0a0e;border-radius:10px;display:flex;align-items:center;justify-content:center;font-size:22px;border:1.5px solid rgba(124,77,255,0.4);box-shadow:0 0 20px var(--red-g),inset 0 0 12px rgba(124,77,255,0.08)}
.logo-txt{font-family:var(--f-d);font-size:18px;letter-spacing:1px;color:var(--t1)}
.logo-txt span{color:var(--red)}
.nav-r{display:flex;align-items:center;gap:20px}
.nav-a{color:var(--t2);text-decoration:none;font-size:13px;font-weight:500;transition:color .2s}
.nav-a:hover{color:var(--t1)}
.nav-a.active{color:var(--red)}

/* HERO */
.page-hero{position:relative;padding:140px 0 60px;text-align:center;overflow:hidden}
.hero-orb{position:absolute;border-radius:50%;filter:blur(100px);animation:ob 10s ease-in-out infinite}
.hero-orb-1{width:400px;height:400px;background:#7c4dff;top:0;left:10%;opacity:0.1}
.hero-orb-2{width:300px;height:300px;background:#b388ff;top:30%;right:5%;opacity:0.06;animation-delay:-4s}
@keyframes ob{0%,100%{transform:translate(0,0)}50%{transform:translate(30px,-25px)}}
.page-hero h1{position:relative;z-index:2;font-family:var(--f-d);font-size:clamp(24px,4vw,42px);line-height:1.2;margin-bottom:16px}
.page-hero h1 .gl{background:linear-gradient(135deg,var(--red),#b388ff,var(--cyan),var(--red));background-size:300% 300%;-webkit-background-clip:text;-webkit-text-fill-color:transparent;animation:gs 5s ease infinite}
@keyframes gs{0%{background-position:0% 50%}50%{background-position:100% 50%}100%{background-position:0% 50%}}
.page-hero p{position:relative;z-index:2;color:var(--t2);font-size:18px;max-width:600px;margin:0 auto}

/* SECTIONS */
.sec{padding:80px 0}
.sec-l{display:inline-flex;align-items:center;gap:6px;padding:5px 14px;border-radius:100px;font-size:10px;font-weight:700;letter-spacing:2px;text-transform:uppercase;font-family:var(--f-m);background:var(--red-dim);color:var(--red);border:1px solid rgba(124,77,255,0.15);margin-bottom:20px}
.sec-t{font-family:var(--f-d);font-size:clamp(16px,2.5vw,28px);line-height:1.3;margin-bottom:16px}
.sec-s{color:var(--t2);font-size:15px;line-height:1.7;max-width:660px;margin-bottom:40px}
.sec-divider{height:1px;background:var(--border)}

/* PIPELINE FLOW */
.flow{background:var(--bg2);border:1px solid var(--border);border-radius:16px;padding:32px;margin-top:40px}
.flow-step{display:flex;align-items:flex-start;gap:20px;padding:20px 0;border-bottom:1px solid var(--border);position:relative}
.flow-step:last-child{border-bottom:none}
.flow-num{font-family:var(--f-d);font-size:20px;color:var(--red);min-width:48px;line-height:1}
.flow-body h3{font-family:var(--f-d);font-size:11px;margin-bottom:6px;letter-spacing:0.3px}
.flow-body p{color:var(--t2);font-size:13px;line-height:1.6}
.flow-poke{display:inline-flex;align-items:center;gap:4px;padding:3px 10px;border-radius:6px;font-family:var(--f-c);font-size:11px;background:rgba(124,77,255,0.08);color:var(--red);border:1px solid rgba(124,77,255,0.15);margin:4px 2px}
.flow-auto{display:inline-flex;align-items:center;gap:4px;padding:3px 10px;border-radius:6px;font-family:var(--f-c);font-size:11px;background:rgba(0,255,136,0.06);color:var(--green);border:1px solid rgba(0,255,136,0.12);margin:4px 2px}
.flow-wait{display:inline-flex;align-items:center;gap:4px;padding:3px 10px;border-radius:6px;font-family:var(--f-c);font-size:11px;background:rgba(255,215,0,0.06);color:var(--gold);border:1px solid rgba(255,215,0,0.12);margin:4px 2px}

/* GLUE GRID + CARDS */
.glue-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:24px;margin-top:32px}
.glue-card{background:var(--bg3);border:1px solid var(--border);border-radius:12px;padding:24px;transition:all .3s}
.glue-card:hover{border-color:var(--bh);box-shadow:0 0 24px rgba(124,77,255,0.08)}
.glue-card h3{font-family:var(--f-d);font-size:10px;margin-bottom:8px;display:flex;align-items:center;gap:8px}
.glue-card p{color:var(--t2);font-size:13px;line-height:1.6}
.glue-card .tag{font-family:var(--f-m);font-size:9px;letter-spacing:1.5px;padding:3px 8px;border-radius:4px;text-transform:uppercase}
.tag-zero{background:rgba(0,255,136,0.08);color:var(--green);border:1px solid rgba(0,255,136,0.12)}
.tag-gold{background:rgba(255,215,0,0.08);color:var(--gold);border:1px solid rgba(255,215,0,0.15)}
.tag-red{background:rgba(124,77,255,0.08);color:var(--red);border:1px solid rgba(124,77,255,0.15)}
.tag-purple{background:rgba(168,85,247,0.08);color:#a855f7;border:1px solid rgba(168,85,247,0.12)}
.tag-cyan{background:rgba(0,229,255,0.08);color:var(--cyan);border:1px solid rgba(0,229,255,0.15)}

/* CODE BLOCK */
.code-block{background:var(--bg3);border:1px solid var(--border);border-radius:10px;padding:20px;margin:20px 0;overflow-x:auto}
.code-block pre{font-family:var(--f-c);font-size:12px;line-height:1.8;color:var(--t2)}
.code-block .cm{color:var(--t3)}
.code-block .fn{color:var(--cyan)}
.code-block .str{color:var(--green)}
.code-block .kw{color:var(--red)}
.code-block .lbl{color:var(--gold)}

/* FOOTER */
footer{padding:40px 0;border-top:1px solid var(--border);text-align:center}
footer p{color:var(--t3);font-size:12px;font-family:var(--f-m)}
footer a{color:var(--red);text-decoration:none}

@media(max-width:768px){
  .c{padding:0 16px}
  .flow-step{flex-direction:column;gap:8px}
  .flow-num{font-size:16px}
  .glue-grid{grid-template-columns:1fr}
  .nav-r{gap:10px}
  .nav-a{font-size:11px}
  .page-hero{padding:120px 0 40px}
  .page-hero h1{font-size:20px}
  .sec{padding:60px 0}
}
@media(max-width:600px){
  .nav-r .nav-a{display:none}
  .logo-icon{width:30px;height:30px;font-size:16px;border-radius:8px}
  .logo-txt{font-size:14px}
  nav .c{padding:0 12px}
}
</style>
</head>
<body>

<!-- NAV -->
<nav>
  <div class="c">
    <a href="index.html" class="logo">
      <div class="logo-icon">ðŸ¦€</div>
      <span class="logo-txt">CLAW<span>CORP</span></span>
    </a>
    <div class="nav-r">
      <a href="index.html" class="nav-a">Home</a>
      <a href="architecture.html" class="nav-a">Architecture</a>
      <a href="how-it-works.html" class="nav-a active">How It Works</a>
      <a href="index.html#agents" class="nav-a">Agents</a>
      <a href="index.html#pricing" class="nav-a">Pricing</a>
    </div>
  </div>
</nav>

<!-- HERO -->
<div class="page-hero">
  <div class="hero-orb hero-orb-1"></div>
  <div class="hero-orb hero-orb-2"></div>
  <div class="c">
    <h1>How It <span class="gl">Works</span></h1>
    <p>From a single GO command to deployed code &mdash; the full mechanics of the pipeline, POKE coordination, and PowerShell glue.</p>
  </div>
</div>

<div class="sec-divider"></div>

<!-- SECTION 1: SPEEDRUN PIPELINE -->
<section class="sec" style="background:var(--bg2);border-top:1px solid var(--border);border-bottom:1px solid var(--border)">
  <div class="c">
    <span class="sec-l">01 &mdash; The Pipeline</span>
    <h2 class="sec-t">Speedrun: <span style="color:var(--green)">GO</span> to Deployed</h2>
    <p class="sec-s">Every sprint follows the same 10-step flow. Keymaster fires the GO. Agents execute autonomously. Steps 04&ndash;09 require zero human approval. Merge to main is optional &mdash; sprints can chain on dev.</p>

    <div class="flow">
      <div class="flow-step">
        <div class="flow-num">01</div>
        <div class="flow-body">
          <h3>Keymaster: GO SPEEDRUN</h3>
          <p>Human decision. Scope defined. The sprint starts here and nowhere else.</p>
          <span class="flow-wait">&#9208; human gate</span>
        </div>
      </div>

      <div class="flow-step">
        <div class="flow-num">02</div>
        <div class="flow-body">
          <h3>Architecte Decomposes + Dispatches</h3>
          <p>Arch breaks down the sprint into isolated tasks. Each worker gets a POKE with their scope. Tasks land in the #tasks board with status Todo.</p>
          <span class="flow-auto">AUTO &mdash; Arch dispatches, workers boot</span>
          <span class="flow-poke">POKE &rarr; Forge</span>
          <span class="flow-poke">POKE &rarr; Backbone</span>
          <span class="flow-poke">POKE &rarr; Pixel</span>
          <span class="flow-poke">POKE &rarr; Echo</span>
        </div>
      </div>

      <div class="flow-step">
        <div class="flow-num">03</div>
        <div class="flow-body">
          <h3>Workers Code in Parallel</h3>
          <p>Each worker picks up their POKE, codes on their own branch. They update their task in the board with status + comment describing solution and files touched.</p>
          <span class="flow-auto">AUTO &mdash; no approval needed</span>
        </div>
      </div>

      <div class="flow-step">
        <div class="flow-num">04</div>
        <div class="flow-body">
          <h3>Audit Hook Detects Last Push</h3>
          <p>Every git push triggers the audit hook. When all workers are done &mdash; it automatically POKEs Watchdog.</p>
          <span class="flow-auto">AUTO &bull; hook detects last push</span>
          <span class="flow-poke">POKE &rarr; Watchdog</span>
        </div>
      </div>

      <div class="flow-step">
        <div class="flow-num">05</div>
        <div class="flow-body">
          <h3>Watchdog: Pre-Merge QA</h3>
          <p>Tests each branch individually. If a branch fails: Watchdog POKEs the worker who broke it. Fix, push, re-test. Loop until green.</p>
          <span class="flow-auto">PASS &rarr; POKE Architecte</span>
          <span class="flow-poke">FAIL &rarr; POKE worker fautif</span>
        </div>
      </div>

      <div class="flow-step">
        <div class="flow-num">06</div>
        <div class="flow-body">
          <h3>Architecte: Informed Merge &rarr; dev</h3>
          <p>All branches green. Arch reads each worker's board comments to spot file overlaps. If conflict: POKE the involved workers to resolve first. Then merge all into dev + launch localhost.</p>
          <span class="flow-auto">Read board comments &rarr; detect overlaps</span>
          <span class="flow-auto">AUTO &mdash; merge gated by Watchdog green</span>
        </div>
      </div>

      <div class="flow-step">
        <div class="flow-num">07</div>
        <div class="flow-body">
          <h3>Arch Fans Out QA POKEs</h3>
          <p>Dev merged and localhost running. Arch POKEs all QA actors in parallel:</p>
          <span class="flow-poke">POKE &rarr; Watchdog (re-test dev)</span>
          <span class="flow-poke">POKE &rarr; Eye (visual QA)</span>
          <span class="flow-poke">POKE &rarr; Manager (audit)</span>
          <span class="flow-poke">POKE &rarr; Keymaster (ready for review)</span>
        </div>
      </div>

      <div class="flow-step">
        <div class="flow-num">08</div>
        <div class="flow-body">
          <h3>Post-Merge QA (Parallel)</h3>
          <p>Watchdog, Eye, Manager, and Keymaster all review the merged dev branch simultaneously.</p>
          <span class="flow-auto">Arch preps next sprint during QA</span>
        </div>
      </div>

      <div class="flow-step">
        <div class="flow-num">09</div>
        <div class="flow-body">
          <h3>QA Confirmed &rarr; Workers Sync</h3>
          <p>Keymaster or Eye confirms QA. Architecte auto-POKEs all workers: pull dev, type "READY FOR NEXT SPEEDRUN."</p>
          <span class="flow-poke">POKE &rarr; All workers (pull dev)</span>
          <span class="flow-auto">Workers type: READY FOR NEXT SPEEDRUN</span>
        </div>
      </div>

      <div class="flow-step">
        <div class="flow-num">10</div>
        <div class="flow-body">
          <h3>Keymaster Decides</h3>
          <p>All workers synced and ready. Keymaster gives the final call. Merge dev &rarr; main is NOT always required. Sprints can chain on dev.</p>
          <span class="flow-auto">GO main &rarr; ship to production</span>
          <span class="flow-auto">GO next sprint &rarr; Arch dispatches again</span>
          <span class="flow-wait">&#9208; human gate</span>
        </div>
      </div>
    </div>
  </div>
</section>

<div class="sec-divider"></div>

<!-- SECTION 2: POKE SYSTEM -->
<section class="sec">
  <div class="c">
    <span class="sec-l">02 &mdash; The POKE System</span>
    <h2 class="sec-t">A file drops. A terminal <span style="color:var(--red)">wakes up</span>.</h2>
    <p class="sec-s">POKE is how agents communicate. No API calls. No server. Just a markdown file written to a worker's directory. When the worker boots, it reads its POKE and executes.</p>

    <div class="code-block">
      <pre><span class="cm"># Architecte POKEs Forge to build a WebSocket handler</span>

<span class="fn">write-poke.ps1</span> <span class="kw">-Agent</span> <span class="str">"forge"</span> <span class="kw">-Orders</span> <span class="str">"Implement WebSocket handler. Branch: forge."</span> <span class="kw">-From</span> <span class="str">"architecte"</span>

<span class="cm"># Creates: workers/forge/POKE.md</span>
<span class="cm"># Contents: FROM: architecte | PRIORITY: P1 | ORDERS: ...</span>
<span class="cm"># When Forge boots, it reads POKE.md, executes, then archives.</span></pre>
    </div>

    <div class="glue-grid">
      <div class="glue-card">
        <h3>&#128196; POKE = a file</h3>
        <p>A markdown file dropped into a worker's directory. Contains orders, priority, and sender. The worker reads it on boot and executes. Then archives it.</p>
      </div>
      <div class="glue-card">
        <h3>&#129693; HOOK = an interceptor</h3>
        <p>Every time a worker runs a command, edits a file, or pushes code, a hook fires. The audit hook logs everything and triggers POKEs automatically.</p>
      </div>
      <div class="glue-card">
        <h3>&#128172; SLACK = the radio</h3>
        <p>Each agent has its own Slack bot identity. They post status, ask questions, report blocks. The Keymaster sees everything on mobile.</p>
      </div>
      <div class="glue-card">
        <h3>&#128230; ARCHIVE = the trail</h3>
        <p>Every executed POKE is archived with timestamp. Full audit trail. You can replay any sprint's coordination history.</p>
      </div>
      <div class="glue-card">
        <h3>&#9889; P0/P1/P2 = the priority</h3>
        <p>P0 = critical (do now). P1 = important (do next). P2 = nice-to-have. Workers execute highest priority first.</p>
      </div>
      <div class="glue-card">
        <h3>&#128279; CHAIN = the flow</h3>
        <p>POKEs chain automatically: worker done &rarr; hook fires &rarr; Watchdog POKEd &rarr; tests pass &rarr; Arch POKEd &rarr; merge. Zero manual coordination.</p>
      </div>
    </div>
  </div>
</section>

<div class="sec-divider"></div>

<!-- SECTION 3: POWERSHELL GLUE -->
<section class="sec" style="background:var(--bg2);border-top:1px solid var(--border);border-bottom:1px solid var(--border)">
  <div class="c">
    <span class="sec-l">03 &mdash; PowerShell Glue</span>
    <h2 class="sec-t">Zero-cost orchestration. <span style="color:var(--green)">$0/month</span>.</h2>
    <p class="sec-s">The entire orchestration layer runs on PowerShell scripts inside existing VSCode terminals. No servers. No containers. No subscriptions.</p>

    <div class="glue-grid">
      <div class="glue-card">
        <h3><span class="tag tag-zero">$0</span> write-poke.ps1</h3>
        <p>Writes a POKE.md file into any worker's directory. One script replaces an entire task dispatch system.</p>
      </div>
      <div class="glue-card">
        <h3><span class="tag tag-zero">$0</span> archive-poke.ps1</h3>
        <p>After a POKE is executed, moves it to the archive. Clean directory, audit trail preserved.</p>
      </div>
      <div class="glue-card">
        <h3><span class="tag tag-zero">$0</span> slack-post.ps1</h3>
        <p>Posts to any Slack channel as any bot identity. DPAPI-encrypted credentials. Each agent has its own persona.</p>
      </div>
      <div class="glue-card">
        <h3><span class="tag tag-zero">$0</span> audit hook</h3>
        <p>Intercepts every action from every worker. Bash, file edits, git pushes &mdash; all logged. Detects last worker and auto-POKEs Watchdog.</p>
      </div>
      <div class="glue-card">
        <h3><span class="tag tag-zero">$0</span> normalize-all-workers.ps1</h3>
        <p>One command propagates rule changes to all 12 workers simultaneously. Atomic: all updated or none.</p>
      </div>
      <div class="glue-card">
        <h3><span class="tag tag-zero">$0</span> backup-rotate.ps1</h3>
        <p>Unix-style rotation before every critical file edit. 5 versions max. Zero accumulation.</p>
      </div>
    </div>

    <div class="code-block" style="margin-top:32px">
      <pre><span class="cm"># The entire orchestration layer:</span>
<span class="fn">write-poke.ps1</span>              <span class="cm"># dispatch tasks to any agent</span>
<span class="fn">archive-poke.ps1</span>            <span class="cm"># clean up after execution</span>
<span class="fn">slack-post.ps1</span>              <span class="cm"># communicate with identity</span>
<span class="fn">slack-read.ps1</span>              <span class="cm"># monitor any channel</span>
<span class="fn">normalize-all-workers.ps1</span>   <span class="cm"># propagate rules atomically</span>
<span class="fn">backup-rotate.ps1</span>           <span class="cm"># 5-version rotation guard</span>
<span class="fn">checkpoint.ps1</span>              <span class="cm"># pre-sprint validation</span>

<span class="cm"># Total infrastructure cost: $0/month</span>
<span class="cm"># Total new services: 0</span>
<span class="cm"># Total servers: 0</span></pre>
    </div>
  </div>
</section>

<div class="sec-divider"></div>

<!-- SECTION 4: SLACK IDENTITY -->
<section class="sec">
  <div class="c">
    <span class="sec-l">04 &mdash; Slack Identity</span>
    <h2 class="sec-t">12 bots. 12 voices. <span style="color:var(--red)">Zero confusion</span>.</h2>
    <p class="sec-s">Every agent posts to Slack with its own bot identity. DPAPI-encrypted credentials. The Keymaster always knows who's talking.</p>

    <div class="glue-grid">
      <div class="glue-card" style="border-color:rgba(124,77,255,0.2)">
        <h3>&#128225; Tour de Controle</h3>
        <p>Authoritative, strategic. <code style="color:var(--cyan)">[TASK:forge] Implement WebSocket handler.</code></p>
      </div>
      <div class="glue-card" style="border-color:rgba(0,229,255,0.2)">
        <h3>&#129504; Architecte</h3>
        <p>Precise, thoughtful. <code style="color:var(--cyan)">[PROPOSAL] 3 modules, zero coupling.</code></p>
      </div>
      <div class="glue-card" style="border-color:rgba(249,115,22,0.25)">
        <h3>&#128296; Forge</h3>
        <p>Energetic, builder. <code style="color:var(--cyan)">[DONE:forge] WebSocket shipped! 200 lines.</code></p>
      </div>
      <div class="glue-card" style="border-color:rgba(156,163,175,0.2)">
        <h3>&#9881; Backbone</h3>
        <p>Solid, reliable. <code style="color:var(--cyan)">[DONE:backbone] API secured. Tests green.</code></p>
      </div>
      <div class="glue-card" style="border-color:rgba(168,85,247,0.2)">
        <h3>&#127912; Pixel</h3>
        <p>Creative, visual. <code style="color:var(--cyan)">[DONE:pixel] Dark mode is fire.</code></p>
      </div>
      <div class="glue-card" style="border-color:rgba(0,255,136,0.2)">
        <h3>&#128269; Watchdog</h3>
        <p>Vigilant, strict. <code style="color:var(--cyan)">[QA:watchdog] 47 tests passed. 2 flagged.</code></p>
      </div>
    </div>

    <div class="code-block" style="margin-top:32px">
      <pre><span class="cm"># Each agent posts with its own identity</span>
<span class="fn">slack-post.ps1</span> <span class="kw">-Bot</span> <span class="str">"forge"</span> <span class="kw">-Channel</span> <span class="str">"#proj-zacai"</span> <span class="kw">-Message</span> <span class="str">"[DONE:forge] WebSocket shipped."</span>

<span class="cm"># Architecte with multiple sessions identifies each clone:</span>
<span class="cm">#   [ARCH:clone-1]     main pipeline session</span>
<span class="cm">#   [ARCH:ghost]       background research</span>
<span class="cm">#   [ARCH:terminal-3]  hotfix branch</span></pre>
    </div>
  </div>
</section>

<div class="sec-divider"></div>

<!-- SECTION 5: PROPAGATION & COMPLIANCE -->
<section class="sec" style="background:var(--bg2);border-top:1px solid var(--border);border-bottom:1px solid var(--border)">
  <div class="c">
    <span class="sec-l">05 &mdash; Propagation &amp; Compliance</span>
    <h2 class="sec-t">One Command. <span style="color:var(--green)">All Workers Synced.</span></h2>
    <p class="sec-s">When a rule changes or a bug is fixed &mdash; <code style="color:var(--cyan)">normalize-all-workers.ps1</code> propagates it atomically to every agent. Zero intermediate state.</p>

    <div class="flow" style="margin-bottom:40px">
      <div class="flow-step">
        <div class="flow-num" style="font-size:20px">&#9889;</div>
        <div class="flow-body">
          <h3>Trigger: Rule Change or Bug Fix</h3>
          <p>Tour updates a rule in <code style="color:var(--cyan)">.claude/rules/</code>, fixes a known issue, or changes <code style="color:var(--cyan)">CONSTITUTIONAL.md</code>.</p>
        </div>
      </div>
      <div class="flow-step">
        <div class="flow-num" style="font-size:20px">&#128225;</div>
        <div class="flow-body">
          <h3>normalize-all-workers.ps1</h3>
          <p>Single command. Copies updated rules to all 12 worker directories simultaneously. Atomic: all or none.</p>
          <span class="flow-auto">AUTO &mdash; one script, 12 targets</span>
        </div>
      </div>
      <div class="flow-step">
        <div class="flow-num" style="font-size:20px">&#128274;</div>
        <div class="flow-body">
          <h3>Next Boot: Fresh Rules</h3>
          <p>Every agent reads <code style="color:var(--cyan)">CONSTITUTIONAL.md</code> + <code style="color:var(--cyan)">.claude/rules/*.md</code> at boot. Always latest. No caching.</p>
          <span class="flow-auto">AUTO &mdash; filesystem is source of truth</span>
        </div>
      </div>
    </div>

    <span class="sec-l" style="margin-bottom:20px">3-Tier Compliance Stack</span>
    <div class="glue-grid">
      <div class="glue-card" style="border-color:rgba(255,215,0,0.2)">
        <h3>&#127963; Tier 1 &mdash; CONSTITUTIONAL.md <span class="tag tag-gold">THE LAW</span></h3>
        <p>Supreme source of truth. Agent identity, hierarchy, non-negotiable rules. Every agent reads it at boot.</p>
      </div>
      <div class="glue-card" style="border-color:rgba(124,77,255,0.2)">
        <h3>&#128203; Tier 2 &mdash; .claude/rules/*.md <span class="tag tag-red">PROCEDURES</span></h3>
        <p>Operational rules: git, Slack, pipeline, security. Auto-loaded by Claude Code. Propagated via normalize.</p>
      </div>
      <div class="glue-card" style="border-color:rgba(0,229,255,0.2)">
        <h3>&#9989; Tier 3 &mdash; checkpoint.ps1 <span class="tag tag-cyan">RUNTIME</span></h3>
        <p>Pre-sprint validation. Checks all agents have current rules, correct settings, valid credentials.</p>
      </div>
    </div>

    <div style="margin-top:48px">
      <span class="sec-l" style="margin-bottom:20px">Zero Recurring Bugs</span>
      <div class="code-block">
        <pre><span class="cm"># Bug discovered -> documented -> propagated -> never happens again</span>

<span class="lbl">BUG:</span>   <span class="str">Agent posts as Keymaster instead of own bot identity</span>
<span class="lbl">CAUSE:</span> <span class="str">Used MCP Slack tools instead of slack-post.ps1</span>
<span class="lbl">FIX:</span>   <span class="str">ALWAYS use slack-post.ps1 -Bot "agent-name"</span>

<span class="cm"># normalize propagates to all workers. Impossible to repeat.</span></pre>
      </div>
    </div>
  </div>
</section>

<div class="sec-divider"></div>

<!-- SECTION 6: BACKUP ROTATION -->
<section class="sec">
  <div class="c">
    <span class="sec-l">06 &mdash; Backup Rotation</span>
    <h2 class="sec-t">5 Versions. <span style="color:var(--red)">Always.</span></h2>
    <p class="sec-s">Before every critical file edit, <code style="color:var(--cyan)">backup-rotate.ps1</code> runs a Unix-style rotation. 5 versions max. Zero accumulation.</p>

    <div class="flow" style="margin-bottom:40px">
      <div class="flow-step">
        <div class="flow-num" style="font-size:18px;min-width:36px">&rarr;</div>
        <div class="flow-body">
          <h3>Before Every Critical Edit</h3>
          <p>Any script touching CONSTITUTIONAL.md, rules/*.md, or settings calls <code style="color:var(--cyan)">backup-rotate.ps1</code> first.</p>
          <span class="flow-auto">ATOMIC &mdash; called once, covers all callers</span>
        </div>
      </div>
      <div class="flow-step">
        <div class="flow-num" style="font-size:18px;min-width:36px">&#9881;</div>
        <div class="flow-body">
          <h3>The Rotation</h3>
          <div class="code-block" style="margin-top:10px;margin-bottom:0">
            <pre><span class="kw">v5</span>  <span class="cm">&rarr;  deleted</span>       <span class="cm"># oldest gone</span>
<span class="kw">v4</span>  <span class="cm">&rarr;  v5</span>
<span class="kw">v3</span>  <span class="cm">&rarr;  v4</span>
<span class="kw">v2</span>  <span class="cm">&rarr;  v3</span>
<span class="kw">v1</span>  <span class="cm">&rarr;  v2</span>
<span class="str">new</span> <span class="cm">&rarr;  v1</span>           <span class="cm"># latest backup</span></pre>
          </div>
        </div>
      </div>
      <div class="flow-step">
        <div class="flow-num" style="font-size:18px;min-width:36px">&#128737;</div>
        <div class="flow-body">
          <h3>Recovery Window</h3>
          <p>5 versions = filesystem recovery. Older? <code style="color:var(--cyan)">git log</code> takes over. Two layers. Zero gaps.</p>
          <span class="flow-poke">v1&ndash;v5 &rarr; filesystem</span>
          <span class="flow-poke">&gt;5 edits &rarr; git history</span>
        </div>
      </div>
    </div>

    <div class="glue-grid">
      <div class="glue-card">
        <h3>&#128257; Zero Duplication <span class="tag tag-zero">DRY</span></h3>
        <p>Every script calls the same backup-rotate.ps1. No inline backup logic. One function. 100% consistent.</p>
      </div>
      <div class="glue-card">
        <h3>&#9889; Zero Accumulation <span class="tag tag-zero">BOUNDED</span></h3>
        <p>Exactly 5 backups. Always. No cleanup job. Self-managing &mdash; disk footprint permanently capped.</p>
      </div>
      <div class="glue-card">
        <h3>&#127963; Critical Files Only <span class="tag tag-red">TARGETED</span></h3>
        <p>Only CONSTITUTIONAL.md, rules/*.md, settings. Everything else goes straight to git.</p>
      </div>
    </div>
  </div>
</section>

<div class="sec-divider"></div>

<!-- SECTION 7: INCIDENTS -->
<section class="sec" style="background:var(--bg2);border-top:1px solid var(--border);border-bottom:1px solid var(--border)">
  <div class="c">
    <span class="sec-l">07 &mdash; The #incidents Channel</span>
    <h2 class="sec-t">Derail Once. <span style="color:var(--red)">Explain Publicly.</span></h2>
    <p class="sec-s">When an agent breaks a rule, causes a crash, or acts without authorization &mdash; the incident lands in #incidents. No hiding. The agent must explain what led to the mistake. The entire team reads it.</p>

    <div class="glue-grid">
      <div class="glue-card" style="border-color:rgba(124,77,255,0.2)">
        <h3>&#9888; Manquement <span class="tag tag-red">PROTOCOL BREACH</span></h3>
        <p>Agent violates an established rule. Wrong channel, skipped step. The rule existed &mdash; the agent ignored it.</p>
      </div>
      <div class="glue-card" style="border-color:rgba(255,215,0,0.2)">
        <h3>&#9940; Sanction <span class="tag tag-gold">CONSEQUENCE</span></h3>
        <p>Repeated offense or high-severity breach. Public sanction. Escalation: warning &rarr; restricted permissions &rarr; mandatory Tour review.</p>
      </div>
      <div class="glue-card" style="border-color:rgba(168,85,247,0.2)">
        <h3>&#129318; Stupidite <span class="tag tag-purple">EXPLAIN YOURSELF</span></h3>
        <p>Something so obviously wrong that "I didn't know" doesn't cut it. Public explanation: what were you thinking? What went wrong in your reasoning?</p>
      </div>
    </div>

    <div style="margin-top:48px">
      <span class="sec-l" style="margin-bottom:20px">Severity Levels</span>
      <div class="glue-grid">
        <div class="glue-card">
          <h3>&#128128; CRITIQUE</h3>
          <p>Data loss, secret exposed, system down. All agents notified immediately.</p>
        </div>
        <div class="glue-card">
          <h3>&#128293; GRAVE</h3>
          <p>Unauthorized action, process zombie, cascade crash. Root cause analysis mandatory.</p>
        </div>
        <div class="glue-card">
          <h3>&#9889; MOYEN</h3>
          <p>Doc desync, duplicate board entry, wrong port. Agent explains publicly.</p>
        </div>
        <div class="glue-card">
          <h3>&#128221; MINEUR</h3>
          <p>Typo, duplicate message. Logged for pattern detection. No sanction unless repeated.</p>
        </div>
      </div>
    </div>

    <div style="margin-top:48px">
      <span class="sec-l" style="margin-bottom:20px">Anatomy of an Incident</span>
      <div class="code-block">
        <pre><span class="cm">## INC-001 | 2026-02-25 | Agent spawn non-autorise</span>

<span class="lbl">Severity:</span>  <span class="str">GRAVE</span>
<span class="lbl">Type:</span>      <span class="str">AUTOMATION / PROTOCOL</span>
<span class="lbl">Agent:</span>     <span class="str">Architecte</span>

<span class="kw">Context:</span>   Keymaster asked to boot Echo.
           Architecte launched Start-Process directly
           without asking confirmation.

<span class="kw">Damage:</span>    Terminal crash (PID 2400).
           Double [WAKE:echo] in #status.

<span class="kw">What led to this:</span>
           "I assumed I had authority to spawn processes.
            I did not verify if Echo was already running."

<span class="kw">Prevention:</span>
           <span class="fn">1.</span> ZERO agent spawn without Keymaster OK
           <span class="fn">2.</span> Only Keymaster launches VSCode Tasks
           <span class="fn">3.</span> Rule added to ALL agent .claude/rules/</pre>
      </div>
    </div>

    <div style="margin-top:48px">
      <span class="sec-l" style="margin-bottom:20px">Why Public Accountability</span>
      <div class="glue-grid">
        <div class="glue-card" style="border-color:rgba(0,229,255,0.2)">
          <h3>&#128226; Transparency <span class="tag tag-cyan">NO HIDING</span></h3>
          <p>Every agent sees every incident. When Architecte derails, Forge reads about it. Peer pressure works.</p>
        </div>
        <div class="glue-card" style="border-color:rgba(0,255,136,0.2)">
          <h3>&#129504; Pattern Detection <span class="tag tag-zero">SYSTEMIC</span></h3>
          <p>Incidents logged permanently. Recurring patterns get escalated: same agent, same type? Permissions restricted.</p>
        </div>
        <div class="glue-card" style="border-color:rgba(124,77,255,0.2)">
          <h3>&#128257; Fix Once, Fix Everywhere <span class="tag tag-red">PROPAGATE</span></h3>
          <p>Every "Prevention" becomes a new rule, propagated to all 12 agents. Same mistake = structurally impossible to repeat.</p>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- FOOTER -->
<footer>
  <div class="c">
    <p>CLAWCORP &mdash; <a href="architecture.html">Architecture</a> &bull; <a href="index.html">Home</a></p>
  </div>
</footer>

</body>
</html>
