*,*::before,*::after{margin:0;padding:0;box-sizing:border-box}
:root{
  --bg:#0a0a1a;--bg2:#0d0d28;--bg3:#111138;--bg4:#1a1a4a;
  --border:rgba(124,77,255,0.12);--bh:rgba(124,77,255,0.25);
  --red:#7c4dff;--red-g:rgba(124,77,255,0.25);--red-dim:rgba(124,77,255,0.08);
  --gold:#ffd700;--cyan:#00e5ff;--green:#00ff88;
  --t1:#f5f5f7;--t2:#9a9ab0;--t3:#555568;
  --f-d:'Press Start 2P',monospace;--f-b:'DM Sans',sans-serif;
  --f-m:'VT323',monospace;--f-c:'Fira Code',monospace;
  --ac:var(--red);--step-color:var(--cyan);--wc:var(--red);
  --col-accent:var(--cyan);--pri-color:var(--red);--agent-color:var(--red);
  --mode-color:var(--red);--tier-color:var(--gold);--gm-color:var(--red);
}
[data-theme="light"]{
  --bg:#faf7f2;--bg2:#ffffff;--bg3:#f3ede4;--bg4:#e8dfd3;
  --border:rgba(0,0,0,0.08);--bh:rgba(0,0,0,0.14);
  --red:#7c3aed;--red-g:rgba(124,58,237,0.15);--red-dim:rgba(124,58,237,0.05);
  --gold:#d97706;--cyan:#0891b2;--green:#059669;
  --t1:#1a1a2e;--t2:#374151;--t3:#6b7280;
}
[data-theme="light"] body::after{opacity:0}
[data-theme="light"] .hero-orb{opacity:0.03!important}
[data-theme="light"] .hero-grid{mask-image:none;opacity:0.15}
[data-theme="light"] .term{background:var(--bg2);box-shadow:0 1px 3px rgba(0,0,0,0.08),0 4px 16px rgba(0,0,0,0.04);border-color:var(--border)}
[data-theme="light"] .term-h{background:var(--bg3)}
[data-theme="light"] .mockup-wrap img{box-shadow:0 4px 24px rgba(0,0,0,0.1);border:1px solid var(--border)}
[data-theme="light"] .btn-r{background:var(--red);box-shadow:0 2px 8px var(--red-g)}
[data-theme="light"] .btn-g{border-color:rgba(0,0,0,0.1);color:var(--t2)}
[data-theme="light"] nav{background:rgba(255,255,255,0.92);border-bottom-color:rgba(0,0,0,0.06)}
[data-theme="light"] .ag-card{background:var(--bg2);border-color:var(--border);box-shadow:0 1px 3px rgba(0,0,0,0.04)}
[data-theme="light"] .pr-card{background:var(--bg2);box-shadow:0 1px 3px rgba(0,0,0,0.06)}
[data-theme="light"] .pr-card.feat{border-color:rgba(109,40,217,0.2);box-shadow:0 4px 16px rgba(109,40,217,0.06)}
[data-theme="light"] .f-card{background:var(--bg2);box-shadow:0 1px 3px rgba(0,0,0,0.04)}
[data-theme="light"] footer{background:var(--bg3)}

/* Light mode: Agent roster fixes */
[data-theme="light"] .cell{background:#f5f0ff;border-color:rgba(109,40,217,0.08)}
[data-theme="light"] .cell:hover{background:#ece4ff;border-color:rgba(109,40,217,0.2)}
[data-theme="light"] .cell.active{background:#ece4ff;border-color:var(--red);box-shadow:0 0 12px rgba(109,40,217,0.15)}
[data-theme="light"] .cell .cname{color:#6b7280}
[data-theme="light"] .cell:hover .cname,[data-theme="light"] .cell.active .cname{color:#1f2937}
[data-theme="light"] .select-grid{background:#fff;border-color:rgba(109,40,217,0.1);box-shadow:0 2px 12px rgba(109,40,217,0.06)}
[data-theme="light"] .roster-title{color:#9ca3af}
[data-theme="light"] .preview-box{background:#fff;border-color:rgba(109,40,217,0.1);box-shadow:0 4px 24px rgba(0,0,0,0.06)}
[data-theme="light"] .preview-empty p{color:#9ca3af}
[data-theme="light"] .pv-desc{color:#4b5563}
[data-theme="light"] .pv-stats-title{color:#9ca3af}
[data-theme="light"] .pv-stats .bar-off{color:#e5e7eb}
[data-theme="light"] .pv-bubble{background:#fff;border-color:var(--red);color:#1f2937;box-shadow:0 2px 8px rgba(0,0,0,0.06)}
[data-theme="light"] .pv-meta-item{background:#f9f7ff;border-color:rgba(109,40,217,0.08)}
[data-theme="light"] .pv-info{color:#4b5563}
[data-theme="light"] .cs-bottom .cs-info{color:#6b7280}
[data-theme="light"] .cs-bottom .cs-count{background:#fff;border-color:rgba(109,40,217,0.1)}
[data-theme="light"] .custom-mode-btn{border-color:var(--red);color:var(--red)}
[data-theme="light"] .mode-modal{background:#fff;border-color:rgba(109,40,217,0.15);box-shadow:0 24px 60px rgba(0,0,0,0.1)}
[data-theme="light"] .mode-indicator{color:#6b7280}
/* Side-by-side chats */
.hc-chats-row{display:flex;gap:12px;margin-top:48px}
.hc-chats-row .hc-wrap{flex:1;min-width:0;max-height:400px;overflow-y:auto}
@media(max-width:900px){.hc-chats-row{flex-direction:column}}
[data-theme="light"] .hc-wrap{background:#fff;border-color:rgba(109,40,217,0.08)}
[data-theme="light"] .hc-header{background:#f9f7ff}
[data-theme="light"] .hiw-step{background:#fff;border-color:#e5e7eb}
[data-theme="light"] .hiw-step:hover{border-color:var(--red)}
[data-theme="light"] .hc-bubble.human{background:#f0ecf8;color:#1f2937}
[data-theme="light"] .hc-bubble.agent{background:#f5f3ff;border-color:rgba(109,40,217,0.08);color:#1f2937}
[data-theme="light"] .hc-typing{color:#9ca3af}

[data-theme="light"] .cta-ig input{background:var(--bg2);border-color:rgba(0,0,0,0.1);color:var(--t1)}
[data-theme="light"] .logo-icon{background:#fff;border-color:rgba(109,40,217,0.25)}
[data-theme="light"] .kb-col{background:var(--bg2);box-shadow:0 1px 3px rgba(0,0,0,0.04)}
[data-theme="light"] .kb-card{background:var(--bg2);box-shadow:0 1px 2px rgba(0,0,0,0.04)}
[data-theme="light"] .kb-card:hover{box-shadow:0 4px 12px rgba(0,0,0,0.08)}
[data-theme="light"] .wf-step{background:var(--bg2);box-shadow:0 1px 3px rgba(0,0,0,0.04)}
[data-theme="light"] .wl-modal{background:var(--bg2);box-shadow:0 24px 60px rgba(0,0,0,0.15)}
[data-theme="light"] .wl-form input{background:var(--bg);border-color:rgba(0,0,0,0.1)}
[data-theme="light"] .ch-sidebar{background:var(--bg2);box-shadow:0 1px 3px rgba(0,0,0,0.04)}
[data-theme="light"] .ch-feat{background:var(--bg2);box-shadow:0 1px 3px rgba(0,0,0,0.04)}
[data-theme="light"] .ch-item:hover{background:rgba(0,0,0,0.03)}
[data-theme="light"] .hc-wrap{background:var(--bg2);box-shadow:0 1px 3px rgba(0,0,0,0.04)}
[data-theme="light"] .hc-bubble.agent{background:var(--bg3)}
[data-theme="light"] .hc-bubble code{background:rgba(0,0,0,0.05)}
[data-theme="light"] .mode-card{background:var(--bg2);box-shadow:0 1px 3px rgba(0,0,0,0.04)}
[data-theme="light"] .mode-alert{background:var(--bg2);box-shadow:0 1px 3px rgba(0,0,0,0.04)}
[data-theme="light"] .oc-machine{background:var(--bg2);box-shadow:0 1px 3px rgba(0,0,0,0.04)}
[data-theme="light"] .ca-tier{background:var(--bg2);box-shadow:0 1px 3px rgba(0,0,0,0.04)}
[data-theme="light"] .ca-rule{background:var(--bg2);box-shadow:0 1px 3px rgba(0,0,0,0.04)}
[data-theme="light"] .gm-card{background:var(--bg2);box-shadow:0 1px 3px rgba(0,0,0,0.04)}
[data-theme="light"] .gm-example{background:rgba(0,0,0,0.02)}
.theme-toggle{background:none;border:1px solid var(--border);color:var(--t2);width:36px;height:36px;border-radius:8px;cursor:pointer;display:flex;align-items:center;justify-content:center;font-size:16px;transition:all .2s}
.theme-toggle:hover{border-color:var(--bh);color:var(--t1)}
html{scroll-behavior:smooth}
html{overflow-x:hidden}
body{font-family:var(--f-b);background:var(--bg);color:var(--t1);overflow-x:hidden;line-height:1.6;padding-top:56px}
body::after{content:'';position:fixed;inset:0;background:repeating-linear-gradient(0deg,transparent,transparent 2px,rgba(124,77,255,0.03) 2px,rgba(124,77,255,0.03) 4px);pointer-events:none;z-index:9999}
.c{max-width:1240px;margin:0 auto;padding:0 28px}

/* NAV */
nav{position:fixed;top:0;left:0;right:0;z-index:100;padding:8px 0;background:rgba(10,10,26,0.92);backdrop-filter:blur(24px);border-bottom:1px solid var(--border)}
nav .c{display:flex;align-items:center;justify-content:space-between}
.logo{display:flex;align-items:center;gap:10px;text-decoration:none}
.logo-icon{width:40px;height:40px;background:#0a0a0e;border-radius:10px;display:flex;align-items:center;justify-content:center;font-size:22px;border:1.5px solid rgba(124,77,255,0.4);box-shadow:0 0 20px var(--red-g),inset 0 0 12px rgba(124,77,255,0.08)}
.logo-txt{font-family:var(--f-d);font-size:22px;letter-spacing:1px;color:var(--t1)}
.logo-txt span{color:var(--red)}
.nav-demo{font-family:var(--f-m);font-size:9px;letter-spacing:1.5px;color:var(--t3);background:rgba(255,255,255,0.06);border:1px solid rgba(255,255,255,0.08);border-radius:4px;padding:2px 6px;margin-left:8px;vertical-align:middle;opacity:0.6}
.nav-r{display:flex;align-items:center;gap:20px}
.nav-a{color:var(--t2);text-decoration:none;font-size:13px;font-weight:500;transition:color .2s}
.nav-a:hover{color:var(--t1)}
.btn{display:inline-flex;align-items:center;gap:8px;padding:10px 22px;border-radius:8px;font-size:13px;font-weight:600;font-family:var(--f-b);text-decoration:none;cursor:pointer;border:none;transition:all .2s}
.btn-r{background:var(--red);color:#fff;box-shadow:0 0 24px var(--red-g)}
.btn-r:hover{background:#9c6dff;box-shadow:0 0 36px rgba(124,77,255,0.35);transform:translateY(-1px)}
.btn-g{background:transparent;color:var(--t2);border:1px solid var(--border)}
.btn-g:hover{color:var(--t1);border-color:var(--bh);background:rgba(255,255,255,0.02)}

/* HERO */
.hero{position:relative;min-height:100vh;display:flex;align-items:flex-start;padding-top:100px;padding-bottom:40px;overflow-x:hidden;overflow-y:visible}
.hero-grid{position:absolute;inset:0;background-image:linear-gradient(rgba(124,77,255,0.02) 1px,transparent 1px),linear-gradient(90deg,rgba(124,77,255,0.02) 1px,transparent 1px);background-size:64px 64px;mask-image:radial-gradient(ellipse at 50% 50%,black 20%,transparent 70%)}
.hero-orb{position:absolute;border-radius:50%;filter:blur(100px);animation:ob 10s ease-in-out infinite}
.hero-orb-1{width:500px;height:500px;background:#7c4dff;top:5%;left:15%;opacity:0.1}
.hero-orb-2{width:400px;height:400px;background:#b388ff;top:40%;right:5%;opacity:0.06;animation-delay:-4s}
.hero-orb-3{width:300px;height:300px;background:var(--cyan);bottom:10%;left:35%;opacity:0.07;animation-delay:-7s}
@keyframes ob{0%,100%{transform:translate(0,0)}50%{transform:translate(30px,-25px)}}
.hero-c{position:relative;z-index:2;text-align:center;max-width:900px;margin:0 auto}
.badge{display:inline-flex;align-items:center;gap:6px;padding:6px 16px;border-radius:100px;font-size:11px;font-weight:600;letter-spacing:.5px;text-transform:uppercase;font-family:var(--f-m);background:var(--red-dim);color:var(--red);border:1px solid rgba(124,77,255,0.15);margin-bottom:28px;animation:fu .8s ease both}
.hero-c h1{font-family:var(--f-d);font-size:clamp(24px,5vw,52px);line-height:1.05;letter-spacing:-1px;margin-bottom:24px;animation:fu .8s ease .1s both}
.hero-c h1 .gl{background:linear-gradient(135deg,var(--red),#b388ff,var(--cyan),var(--red));background-size:300% 300%;-webkit-background-clip:text;-webkit-text-fill-color:transparent;animation:gs 5s ease infinite}
@keyframes gs{0%{background-position:0% 50%}50%{background-position:100% 50%}100%{background-position:0% 50%}}
.hero-sub{font-size:18px;line-height:1.7;color:var(--t2);max-width:640px;margin:0 auto 40px;animation:fu .8s ease .2s both}
.hero-acts{display:flex;justify-content:center;gap:16px;margin-bottom:60px;animation:fu .8s ease .3s both}
.hero-acts .btn{padding:14px 30px;font-size:15px}
@keyframes fu{from{opacity:0;transform:translateY(24px)}to{opacity:1;transform:translateY(0)}}

/* TERMINAL */
.term-wrap{max-width:700px;margin:0 auto;animation:fu .8s ease .5s both}
.term{background:var(--bg2);border:1px solid var(--border);border-radius:14px;overflow:hidden;box-shadow:0 0 0 1px rgba(124,77,255,0.08),0 24px 80px rgba(0,0,0,0.6),0 0 60px rgba(124,77,255,0.04)}
.term-h{display:flex;align-items:center;gap:8px;padding:14px 18px;background:var(--bg3);border-bottom:1px solid var(--border)}
.term-dot{width:12px;height:12px;border-radius:50%}
.td-r{background:#7c4dff}.td-y{background:#b388ff}.td-g{background:#00e5ff}
.term-title{flex:1;text-align:center;font-family:var(--f-m);font-size:11px;color:var(--t3)}
.term-body{padding:20px 24px;font-family:var(--f-c);font-size:12.5px;line-height:1.9;min-height:150px}
.tl{opacity:0;animation:tl .3s ease forwards}
.tl .p{color:var(--red)}.tl .cmd{color:var(--t1)}.tl .ag{font-weight:700}
.tl .s{color:var(--green)}.tl .m{color:var(--t3)}.tl .h{color:var(--cyan)}.tl .w{color:var(--gold)}
.tl:nth-child(1){animation-delay:.8s}.tl:nth-child(2){animation-delay:1.4s}
.tl:nth-child(3){animation-delay:2s}.tl:nth-child(4){animation-delay:2.6s}
.tl:nth-child(5){animation-delay:3.2s}.tl:nth-child(6){animation-delay:3.8s}
.tl:nth-child(7){animation-delay:4.4s}.tl:nth-child(8){animation-delay:5s}
.tl:nth-child(9){animation-delay:5.6s}.tl:nth-child(10){animation-delay:6.2s}
.tl:nth-child(11){animation-delay:6.8s}
@keyframes tl{from{opacity:0;transform:translateY(4px)}to{opacity:1;transform:translateY(0)}}

/* STATS BAR */
.stats{padding:48px 0;border-top:1px solid var(--border);border-bottom:1px solid var(--border)}
.stats .c{display:flex;justify-content:center;gap:56px;flex-wrap:wrap}
.stat{text-align:center}
.stat .n{font-family:var(--f-d);font-size:38px;background:linear-gradient(135deg,#b388ff,var(--red));-webkit-background-clip:text;-webkit-text-fill-color:transparent}
.stat .l{font-size:12px;color:var(--t3);margin-top:4px;font-family:var(--f-m);text-transform:uppercase;letter-spacing:1px}

/* SECTIONS */
.sec{padding:80px 0;position:relative}
#communication{padding-bottom:32px}
#superpowers{padding-top:40px}
.sec-l{display:block;font-family:var(--f-m);font-size:11px;text-transform:uppercase;letter-spacing:2px;color:var(--red);margin-bottom:14px}
.sec-t{font-family:var(--f-d);font-size:clamp(16px,3vw,32px);line-height:1.12;margin-bottom:18px}
.sec-s{font-size:17px;color:var(--t2);max-width:620px;line-height:1.7}

/* KILLER FEATURES - CLONE + OPPORTUNIST */
.kf-grid{display:grid;grid-template-columns:1fr 1fr;gap:24px;margin-top:60px}
.kf-card{background:var(--bg2);border:1px solid var(--border);border-radius:20px;padding:40px 32px;transition:all .3s;position:relative;overflow:hidden}
.kf-card:hover{border-color:var(--bh);transform:translateY(-3px)}
.kf-card::before{content:'';position:absolute;top:0;left:0;right:0;height:3px;opacity:0;transition:opacity .3s}
.kf-card:hover::before{opacity:1}
.kf-card.clone::before{background:linear-gradient(90deg,var(--cyan),#b388ff)}
.kf-card.opp::before{background:linear-gradient(90deg,#b388ff,var(--red))}
.kf-icon{font-size:40px;margin-bottom:20px}
.kf-card h3{font-family:var(--f-d);font-size:24px;margin-bottom:10px}
.kf-card p{font-size:14px;color:var(--t2);line-height:1.7}
.kf-badge{display:inline-block;padding:4px 10px;border-radius:6px;font-family:var(--f-m);font-size:10px;text-transform:uppercase;letter-spacing:1px;margin-top:16px}
.kf-card.clone .kf-badge{background:rgba(0,229,255,0.1);color:var(--cyan)}
.kf-card.opp .kf-badge{background:rgba(255,215,0,0.1);color:var(--gold)}

/* CLONE VISUAL */
.clone-viz{display:flex;align-items:center;gap:12px;margin-top:24px;padding:16px;background:var(--bg3);border-radius:12px;border:1px solid var(--border)}
.clone-viz img{width:36px;height:36px;border-radius:10px}
.clone-arrow{color:var(--cyan);font-family:var(--f-m);font-size:18px}
.clone-label{font-family:var(--f-m);font-size:11px;color:var(--t3)}

/* AGENT ROSTER */
.ag-grid{display:grid;grid-template-columns:repeat(7,1fr);gap:18px;margin-top:60px}
.ag-card{background:var(--bg2);border:1px solid var(--border);border-radius:16px;padding:28px 14px 24px;text-align:center;transition:all .3s;position:relative;overflow:hidden}
.ag-card::before{content:'';position:absolute;top:0;left:0;right:0;height:3px;background:var(--ac);opacity:.4;transition:opacity .3s}
.ag-card:hover{transform:translateY(-4px);border-color:var(--bh)}
.ag-card:hover::before{opacity:1}
.ag-img-wrap{position:relative;width:56px;height:56px;margin:0 auto 14px}
.ag-img{width:56px;height:56px;border-radius:14px;object-fit:cover}
.ag-status{position:absolute;top:-2px;right:-2px;width:14px;height:14px;border-radius:50%;border:2px solid var(--bg2)}
.ag-active{background:var(--green);box-shadow:0 0 8px rgba(0,255,136,0.5)}
.ag-idle{background:var(--gold)}
.ag-offline{background:var(--t3)}
.ag-name{font-family:var(--f-d);font-size:12px;margin-bottom:4px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.ag-role{font-size:10px;color:var(--t3);font-family:var(--f-m)}

/* SLACK PREVIEW */
.sl-wrap{max-width:760px;margin:60px auto 0;background:var(--bg2);border:1px solid var(--border);border-radius:16px;overflow:hidden}
.sl-h{padding:14px 20px;border-bottom:1px solid var(--border);display:flex;align-items:center;gap:8px;font-family:var(--f-m);font-size:12px;color:var(--t3)}
.sl-ch{color:var(--red);font-weight:700}
.sl-msgs{padding:12px 20px}
.sl-msg{display:flex;gap:10px;padding:10px 0}
.sl-msg+.sl-msg{border-top:1px solid var(--border)}
.sl-av{width:32px;height:32px;border-radius:10px;flex-shrink:0;object-fit:cover}
.sl-c{flex:1}
.sl-n{font-weight:700;font-size:13px;margin-bottom:2px}
.sl-t{font-family:var(--f-m);font-size:10px;color:var(--t3);margin-left:6px;font-weight:400}
.sl-txt{font-size:13px;color:var(--t2);line-height:1.5}

/* FEATURES GRID */
.fg{display:grid;grid-template-columns:repeat(3,1fr);gap:20px;margin-top:60px}
.fc{background:var(--bg2);border:1px solid var(--border);border-radius:16px;padding:32px;transition:all .3s}
.fc:hover{border-color:var(--bh);transform:translateY(-2px)}
.fc-i{width:48px;height:48px;border-radius:12px;display:flex;align-items:center;justify-content:center;font-size:22px;margin-bottom:20px;background:var(--red-dim)}
.fc h3{font-family:var(--f-d);font-size:16px;margin-bottom:8px}
.fc p{font-size:13px;color:var(--t2);line-height:1.6}

/* PRICING */
.pr-sec{background:var(--bg2);border-top:1px solid var(--border);border-bottom:1px solid var(--border)}
.pr-h{text-align:center;margin-bottom:60px}
.pr-h .sec-s{margin:0 auto}
.pr-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:24px;max-width:720px;margin:0 auto}
.pr-card{background:var(--bg3);border:1px solid var(--border);border-radius:20px;padding:42px 28px 36px 28px;transition:all .3s;position:relative}
.pr-card.feat{border-color:rgba(124,77,255,0.25);box-shadow:0 0 40px rgba(124,77,255,0.06);transform:scale(1.03)}
.pr-card.feat::before{content:'RECOMMENDED';position:absolute;top:-12px;left:50%;transform:translateX(-50%);background:var(--red);color:#fff;font-family:var(--f-m);font-size:10px;letter-spacing:1px;padding:4px 14px;border-radius:100px}
.pr-tier{font-family:var(--f-m);font-size:11px;color:var(--red);text-transform:uppercase;letter-spacing:1px;margin-bottom:8px}
.pr-price{font-family:var(--f-d);font-size:42px;margin-bottom:4px}
.pr-price span{font-size:15px;font-weight:400;color:var(--t3);font-family:var(--f-b)}
.pr-desc{font-size:13px;color:var(--t2);margin-bottom:24px;line-height:1.5}
.pr-feat{list-style:none;margin-bottom:24px}
.pr-feat li{font-size:13px;color:var(--t2);padding:8px 0;border-bottom:1px solid var(--border);display:flex;align-items:center;gap:8px}
.pr-feat li::before{content:'âœ“';color:var(--green);font-weight:700}
.pr-card .btn{width:100%;justify-content:center}

/* CTA */
.cta-sec{text-align:center;position:relative;overflow:hidden}
.cta-sec::before{content:'';position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:600px;height:600px;background:var(--red);border-radius:50%;filter:blur(200px);opacity:.06;pointer-events:none}
.cta-sec .c{position:relative;z-index:1}
.cta-sec .sec-t{max-width:600px;margin:0 auto 16px}
.cta-sec .sec-s{margin:0 auto 40px}
.cta-ig{display:flex;gap:12px;max-width:460px;margin:0 auto;position:relative;z-index:2}
.cta-ig input{flex:1;padding:14px 20px;border-radius:10px;border:1px solid var(--border);background:var(--bg3);color:var(--t1);font-family:var(--f-b);font-size:16px;outline:none;transition:border-color .2s}
.cta-ig input:focus{border-color:var(--red)}
.cta-ig input::placeholder{color:var(--t3)}

/* MOCKUP IMAGES */
.mockup-wrap{max-width:820px;margin:48px auto 0;position:relative}
.mockup-wrap img{width:100%;border-radius:16px;border:1px solid var(--border);box-shadow:0 24px 80px rgba(0,0,0,0.5),0 0 40px rgba(124,77,255,0.04)}
.mockup-label{display:inline-flex;align-items:center;gap:6px;padding:6px 14px;border-radius:100px;font-size:10px;font-weight:600;letter-spacing:.5px;text-transform:uppercase;font-family:var(--f-m);margin-top:16px}
.mockup-label.voice{background:rgba(0,229,255,0.08);color:var(--cyan);border:1px solid rgba(0,229,255,0.15)}
.mockup-label.board{background:rgba(255,215,0,0.08);color:var(--gold);border:1px solid rgba(255,215,0,0.15)}
.mockup-label.night{background:rgba(236,72,153,0.08);color:#ec4899;border:1px solid rgba(236,72,153,0.15)}
.mockup-caption{font-size:13px;color:var(--t3);margin-top:8px;line-height:1.5}
.highlight-list{list-style:none;margin-top:32px;display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:16px}
.highlight-list li{background:var(--bg3);border:1px solid var(--border);border-radius:12px;padding:18px 20px;font-size:14px;color:var(--t2);line-height:1.5;display:flex;align-items:flex-start;gap:10px}
.highlight-list .hi-icon{font-size:20px;flex-shrink:0;margin-top:1px}

/* WORKFLOW PIPELINE */
.wf-pipe{display:flex;align-items:center;justify-content:center;gap:6px;margin:36px auto 28px;flex-wrap:wrap;max-width:920px}
.wf-step{display:flex;flex-direction:column;align-items:center;gap:3px;padding:10px 14px;background:var(--bg3);border:1px solid var(--border);border-radius:10px;min-width:110px;transition:all .25s;position:relative}
.wf-step::before{content:'';position:absolute;top:0;left:0;right:0;height:2px;border-radius:10px 10px 0 0;background:var(--step-color)}
.wf-step:hover{border-color:var(--bh);transform:translateY(-2px);box-shadow:0 4px 12px rgba(0,0,0,0.15)}
.wf-step-name{font-family:var(--f-m);font-size:10px;font-weight:700;text-transform:uppercase;letter-spacing:.5px;color:var(--step-color)}
.wf-step-who{font-size:10px;color:var(--t2);font-weight:500}
.wf-step-desc{font-size:9px;color:var(--t3);text-align:center}
.wf-arrow{color:var(--t3);font-family:var(--f-m);font-size:14px;opacity:.3}

/* TASK DUMP */
.task-dump{margin:32px 0;border:2px solid var(--border);border-radius:16px;background:var(--bg2);overflow:hidden;position:relative}
.task-dump::before{content:'';position:absolute;top:0;left:0;right:0;height:2px;background:linear-gradient(90deg,var(--red),var(--gold),var(--cyan))}
.td-header{padding:16px 20px 0;display:flex;align-items:center;gap:10px}
.td-header-icon{font-size:20px}
.td-header-title{font-family:var(--f-d);font-size:10px;color:var(--t1);letter-spacing:1.5px;text-transform:uppercase}
.td-header-sub{font-family:var(--f-m);font-size:10px;color:var(--t3);margin-left:auto}
.td-input-area{padding:12px 20px}
.td-terminal{background:var(--bg);border:1px solid var(--border);border-radius:10px;overflow:hidden}
.td-term-bar{padding:6px 12px;background:rgba(124,77,255,0.06);border-bottom:1px solid var(--border);display:flex;align-items:center;gap:6px}
.td-term-dot{width:7px;height:7px;border-radius:50%}
.td-term-dot.r{background:#ef4444}.td-term-dot.y{background:#f59e0b}.td-term-dot.g{background:#22c55e}
.td-term-title{font-family:var(--f-c);font-size:8px;color:var(--t3);margin-left:6px;letter-spacing:.5px}
.td-textarea{width:100%;min-height:100px;background:transparent;border:none;color:var(--t1);font-family:var(--f-c);font-size:11px;line-height:1.6;padding:12px 14px;resize:vertical;outline:none}
.td-textarea::placeholder{color:var(--t3)}
.td-actions{padding:0 20px 16px;display:flex;align-items:center;gap:10px}
.td-dispatch-btn{padding:10px 24px;border-radius:8px;font-family:var(--f-d);font-size:9px;letter-spacing:1.5px;cursor:pointer;transition:all .3s;border:2px solid var(--gold);color:#000;background:var(--gold);text-transform:uppercase;box-shadow:0 0 15px rgba(255,215,0,0.3)}
.td-dispatch-btn:hover{box-shadow:0 0 25px rgba(255,215,0,0.5);transform:translateY(-1px)}
.td-dispatch-btn:active{transform:translateY(0)}
.td-dispatch-btn.processing{background:transparent;color:var(--gold);pointer-events:none;animation:tdPulse 0.6s infinite}
.td-dispatch-btn.done{background:#22c55e;border-color:#22c55e;color:#000;box-shadow:0 0 15px rgba(34,197,94,0.3)}
.td-task-count{font-family:var(--f-m);font-size:10px;color:var(--t3)}
.td-task-count strong{color:var(--gold)}
@keyframes tdPulse{0%,100%{opacity:1}50%{opacity:.5}}
.td-results{padding:0 20px 16px;display:none}
.td-results.visible{display:block}
.td-results-header{font-family:var(--f-d);font-size:8px;color:var(--t3);letter-spacing:1.5px;margin-bottom:8px;text-transform:uppercase}
.td-task-list{display:flex;flex-direction:column;gap:6px}
.td-task{background:var(--bg);border:1px solid var(--border);border-radius:8px;padding:10px 14px;display:flex;align-items:center;gap:10px;opacity:0;transform:translateX(-20px);transition:all .4s cubic-bezier(0.34,1.56,0.64,1);position:relative;overflow:hidden}
.td-task.visible{opacity:1;transform:translateX(0)}
.td-task::before{content:'';position:absolute;left:0;top:0;bottom:0;width:3px}
.td-task.p0::before{background:#ef4444}.td-task.p1::before{background:#f59e0b}.td-task.p2::before{background:#22c55e}
.td-task-pri{font-family:var(--f-m);font-size:8px;font-weight:700;padding:2px 6px;border-radius:4px;text-transform:uppercase;flex-shrink:0}
.td-task.p0 .td-task-pri{background:rgba(239,68,68,0.15);color:#ef4444}
.td-task.p1 .td-task-pri{background:rgba(245,158,11,0.15);color:#f59e0b}
.td-task.p2 .td-task-pri{background:rgba(34,197,94,0.15);color:#22c55e}
.td-task-title{font-family:var(--f-b);font-size:12px;color:var(--t1);flex:1;line-height:1.3}
.td-task-agent{font-family:var(--f-m);font-size:9px;padding:2px 8px;border-radius:100px;flex-shrink:0}
.td-task-status{font-family:var(--f-m);font-size:8px;color:var(--t3);letter-spacing:.5px;flex-shrink:0}

/* GHOST KILL SWITCH */
.ghost-switch-wrap{display:flex;align-items:center;justify-content:space-between;padding:8px 12px;margin:8px 0;background:rgba(239,68,68,0.04);border:1px solid rgba(239,68,68,0.12);border-radius:8px}
.ghost-switch-label{font-family:var(--f-d);font-size:7px;letter-spacing:1.5px;color:var(--t2);text-transform:uppercase}
.ghost-switch-sub{font-family:var(--f-m);font-size:9px;color:var(--t3);margin-top:1px}
.ghost-toggle{position:relative;width:40px;height:22px;cursor:pointer;flex-shrink:0}
.ghost-toggle input{opacity:0;width:0;height:0}
.ghost-toggle-track{position:absolute;inset:0;background:rgba(239,68,68,0.2);border-radius:11px;transition:all .3s;border:1px solid rgba(239,68,68,0.3)}
.ghost-toggle-thumb{position:absolute;top:3px;left:3px;width:16px;height:16px;background:#ef4444;border-radius:50%;transition:all .3s;box-shadow:0 0 6px rgba(239,68,68,0.4)}
.ghost-toggle input:checked~.ghost-toggle-track{background:rgba(34,197,94,0.2);border-color:rgba(34,197,94,0.3)}
.ghost-toggle input:checked~.ghost-toggle-thumb{left:21px;background:#22c55e;box-shadow:0 0 8px rgba(34,197,94,0.5)}
.ghost-status{font-family:var(--f-m);font-size:10px;letter-spacing:.5px;margin-left:8px;white-space:nowrap}
.ghost-status.killed{color:#ef4444}
.ghost-status.alive{color:#22c55e}

/* ONE-ON-ONE LIVE SESSION */
.oo-workspace{display:grid;grid-template-columns:1.1fr 0.8fr 1.1fr;gap:0;margin-top:48px;border:2px solid var(--border);border-radius:16px;overflow:hidden;background:var(--bg);position:relative;min-height:520px;box-shadow:0 0 60px rgba(124,77,255,0.08),0 0 120px rgba(0,229,255,0.04)}
.oo-workspace::before{content:'';position:absolute;inset:0;background:radial-gradient(ellipse at 30% 20%,rgba(124,77,255,0.04),transparent 60%),radial-gradient(ellipse at 70% 80%,rgba(0,229,255,0.03),transparent 50%);pointer-events:none;z-index:0}
.oo-panel{display:flex;flex-direction:column;position:relative;z-index:1;border-right:1px solid var(--border)}
.oo-panel:last-child{border-right:none}
.oo-panel-bar{display:flex;align-items:center;gap:6px;padding:8px 14px;background:rgba(124,77,255,0.04);border-bottom:1px solid var(--border);flex-shrink:0}
.oo-panel-dot{width:8px;height:8px;border-radius:50%;flex-shrink:0}
.oo-panel-title{font-family:var(--f-d);font-size:7px;letter-spacing:2px;color:var(--t2);margin-left:6px;text-transform:uppercase}
.oo-panel-badge{font-family:var(--f-m);font-size:9px;padding:2px 8px;border-radius:100px;margin-left:auto;letter-spacing:0.5px}
.oo-badge-sprint{background:rgba(124,77,255,0.12);color:var(--red)}
.oo-badge-online{background:rgba(34,197,94,0.15);color:#22c55e;animation:ooBadgePulse 2s infinite}
@keyframes ooBadgePulse{0%,100%{box-shadow:0 0 0 0 rgba(34,197,94,0.3)}50%{box-shadow:0 0 0 4px rgba(34,197,94,0)}}

/* Left panel: Site preview */
.oo-site-panel{background:var(--bg2)}
.oo-site-frame{flex:1;padding:12px;display:flex;flex-direction:column;gap:0;overflow:hidden}
.oo-site-nav{display:flex;align-items:center;justify-content:space-between;padding:8px 14px;background:var(--bg3);border-radius:8px 8px 0 0;border:1px solid var(--border);border-bottom:none}
.oo-site-logo{font-family:var(--f-d);font-size:8px;color:var(--gold);letter-spacing:1px}
.oo-site-nav-links{font-family:var(--f-m);font-size:10px;color:var(--t3);letter-spacing:0.5px}
.oo-site-hero{background:linear-gradient(135deg,#1a0a2e 0%,#0d1b3e 50%,#0a1628 100%);padding:28px 20px;text-align:center;border:1px solid var(--border);border-top:none;position:relative;overflow:hidden}
.oo-site-hero::before{content:'';position:absolute;inset:0;background:radial-gradient(circle at 50% 0%,rgba(124,77,255,0.15),transparent 70%);pointer-events:none}
.oo-site-hero-text{font-family:'Orbitron',sans-serif;font-size:22px;font-weight:800;color:var(--t1);letter-spacing:2px;position:relative}
.oo-site-hero-sub{font-family:var(--f-m);font-size:12px;color:var(--t3);margin-top:4px}
.oo-site-hero-btn{display:inline-block;margin-top:10px;padding:6px 18px;background:var(--gold);color:#000;font-family:var(--f-d);font-size:7px;letter-spacing:1.5px;border-radius:4px;cursor:default}
.oo-site-section{display:grid;grid-template-columns:repeat(3,1fr);gap:6px;padding:10px;background:var(--bg);border:1px solid var(--border);border-top:none;border-radius:0 0 8px 8px}
.oo-site-card{background:var(--bg2);border:1px solid var(--border);border-radius:6px;padding:12px 8px;text-align:center;transition:all .4s cubic-bezier(.34,1.56,.64,1)}
.oo-sc-icon{font-size:24px;margin-bottom:4px}
.oo-sc-label{font-family:var(--f-m);font-size:11px;color:var(--t2)}
.oo-site-card.oo-highlight{border-color:var(--cyan);box-shadow:0 0 20px rgba(0,229,255,0.2);transform:scale(1.04)}

/* Middle panel: Task Board */
.oo-task-panel{background:rgba(124,77,255,0.02)}
.oo-task-columns{flex:1;display:grid;grid-template-columns:repeat(3,1fr);gap:0;overflow:hidden}
.oo-task-col{display:flex;flex-direction:column;border-right:1px solid rgba(124,77,255,0.06);padding:0}
.oo-task-col:last-child{border-right:none}
.oo-col-header{font-family:var(--f-d);font-size:7px;letter-spacing:2px;color:var(--col-c,var(--t2));padding:8px 10px;border-bottom:2px solid var(--col-c,var(--border));text-transform:uppercase;display:flex;align-items:center;gap:6px}
.oo-col-count{font-family:var(--f-m);font-size:12px;background:rgba(255,255,255,0.06);padding:0 5px;border-radius:3px}
.oo-col-tasks{flex:1;padding:6px;display:flex;flex-direction:column;gap:4px;min-height:120px}
.oo-task-card{background:var(--bg2);border:1px solid var(--border);border-radius:6px;padding:7px 9px;font-family:var(--f-m);font-size:11px;color:var(--t1);line-height:1.3;position:relative;transition:all .5s cubic-bezier(.34,1.56,.64,1);opacity:0;transform:translateY(10px)}
.oo-task-card.visible{opacity:1;transform:translateY(0)}
.oo-task-card.moving{animation:ooCardMove .6s cubic-bezier(.34,1.56,.64,1)}
@keyframes ooCardMove{0%{opacity:0;transform:translateX(-20px) scale(0.9)}60%{transform:translateX(4px) scale(1.02)}100%{opacity:1;transform:translateX(0) scale(1)}}
.oo-task-card::before{content:'';position:absolute;left:0;top:0;bottom:0;width:2px;border-radius:2px 0 0 2px}
.oo-task-card.p0::before{background:#ef4444}.oo-task-card.p1::before{background:#f59e0b}.oo-task-card.p2::before{background:#22c55e}
.oo-task-card-agent{display:inline-block;font-size:9px;padding:1px 5px;border-radius:100px;margin-top:3px;background:rgba(124,77,255,0.1);color:var(--red)}
.oo-task-card.done-card{opacity:.5;text-decoration:line-through;color:var(--t3)}

/* Right panel: Chat */
.oo-chat-panel{background:var(--bg2);display:flex;flex-direction:column}
.oo-chat-messages{flex:1;padding:12px;display:flex;flex-direction:column;gap:8px;overflow-y:auto;min-height:300px}
.oo-chat-msg{display:flex;gap:8px;align-items:flex-start;opacity:0;transform:translateY(8px);transition:all .4s ease}
.oo-chat-msg.visible{opacity:1;transform:translateY(0)}
.oo-chat-msg.human{flex-direction:row-reverse}
.oo-chat-msg-avatar{width:28px;height:28px;border-radius:50%;object-fit:cover;border:2px solid var(--border);flex-shrink:0}
.oo-chat-msg-bubble{max-width:80%;padding:8px 12px;border-radius:12px;font-family:var(--f-m);font-size:12px;line-height:1.4;position:relative}
.oo-chat-msg.agent .oo-chat-msg-bubble{background:rgba(124,77,255,0.08);border:1px solid rgba(124,77,255,0.15);color:var(--t1);border-bottom-left-radius:2px}
.oo-chat-msg.human .oo-chat-msg-bubble{background:rgba(0,229,255,0.08);border:1px solid rgba(0,229,255,0.15);color:var(--t1);border-bottom-right-radius:2px}
.oo-chat-msg.system .oo-chat-msg-bubble{background:rgba(255,215,0,0.06);border:1px solid rgba(255,215,0,0.12);color:var(--gold);font-size:10px;text-align:center;width:100%;max-width:100%;font-family:var(--f-d);letter-spacing:1px}
.oo-chat-msg-name{font-family:var(--f-d);font-size:6px;letter-spacing:1px;color:var(--t3);margin-bottom:2px;text-transform:uppercase}
.oo-chat-msg.human .oo-chat-msg-name{text-align:right}
.oo-chat-msg.voice{flex-direction:row-reverse}
.oo-chat-msg.voice .oo-chat-msg-bubble{background:rgba(0,229,255,0.08);border:1px solid rgba(0,229,255,0.15);color:var(--t1);border-bottom-right-radius:2px;display:flex;align-items:center;gap:8px}
.oo-chat-msg.voice .oo-chat-msg-name{text-align:right}
.oo-voice-icon{width:18px;height:18px;border-radius:50%;background:rgba(0,229,255,0.25);display:flex;align-items:center;justify-content:center;flex-shrink:0;font-size:10px}
.oo-voice-bars{display:flex;align-items:center;gap:2px;height:20px}
.oo-voice-bar{width:3px;border-radius:2px;background:var(--cyan);animation:ooVoiceBar 1.2s ease-in-out infinite}
.oo-voice-bar:nth-child(1){height:6px;animation-delay:0s}
.oo-voice-bar:nth-child(2){height:14px;animation-delay:.1s}
.oo-voice-bar:nth-child(3){height:8px;animation-delay:.2s}
.oo-voice-bar:nth-child(4){height:18px;animation-delay:.15s}
.oo-voice-bar:nth-child(5){height:10px;animation-delay:.25s}
.oo-voice-bar:nth-child(6){height:16px;animation-delay:.05s}
.oo-voice-bar:nth-child(7){height:6px;animation-delay:.3s}
.oo-voice-bar:nth-child(8){height:12px;animation-delay:.2s}
.oo-voice-bar:nth-child(9){height:8px;animation-delay:.1s}
.oo-voice-bar:nth-child(10){height:14px;animation-delay:.35s}
.oo-voice-bar:nth-child(11){height:4px;animation-delay:.15s}
.oo-voice-bar:nth-child(12){height:10px;animation-delay:.25s}
.oo-voice-dur{font-size:10px;color:var(--t3);font-family:var(--f-m);white-space:nowrap;margin-left:4px}
@keyframes ooVoiceBar{0%,100%{transform:scaleY(1)}50%{transform:scaleY(0.3)}}
.oo-chat-typing{display:flex;gap:4px;padding:4px 0}
.oo-chat-typing-dot{width:5px;height:5px;border-radius:50%;background:var(--t3);animation:ooTyping 1.2s infinite}
.oo-chat-typing-dot:nth-child(2){animation-delay:.2s}
.oo-chat-typing-dot:nth-child(3){animation-delay:.4s}
@keyframes ooTyping{0%,60%,100%{opacity:.3;transform:translateY(0)}30%{opacity:1;transform:translateY(-3px)}}
.oo-chat-input{display:flex;align-items:center;gap:8px;padding:10px 14px;border-top:1px solid var(--border);background:rgba(124,77,255,0.02)}
.oo-chat-avatar{width:24px;height:24px;border-radius:50%;object-fit:cover;border:2px solid var(--cyan);flex-shrink:0}
.oo-chat-input-field{flex:1;height:28px;background:var(--bg);border:1px solid var(--border);border-radius:6px;padding:0 10px;position:relative;overflow:hidden}
.oo-chat-input-field::after{content:'Type a message...';position:absolute;top:50%;left:10px;transform:translateY(-50%);font-family:var(--f-m);font-size:11px;color:var(--t3)}
.oo-chat-send-indicator{color:var(--cyan);font-size:12px;cursor:default;opacity:.5}

/* Connection hint */
.oo-connection-hint{display:flex;align-items:center;justify-content:center;gap:12px;padding:18px 0 8px;font-family:var(--f-d);font-size:8px;letter-spacing:1.5px;color:var(--t3);text-transform:uppercase}
.oo-conn-arrow{color:var(--cyan);font-size:14px;animation:ooArrowPulse 2s infinite}
@keyframes ooArrowPulse{0%,100%{opacity:.4;transform:translateX(0)}50%{opacity:1;transform:translateX(3px)}}
@keyframes ooGlowPulse{0%,100%{box-shadow:0 0 15px rgba(255,215,0,0.4),0 0 30px rgba(255,215,0,0.15)}50%{box-shadow:0 0 25px rgba(255,215,0,0.7),0 0 50px rgba(255,215,0,0.3)}}

/* Data flow particles */
.oo-data-particle{position:absolute;width:4px;height:4px;border-radius:50%;pointer-events:none;z-index:10;opacity:0}
@keyframes ooParticleFlow{0%{opacity:0;transform:translate(0,0)}10%{opacity:1}90%{opacity:1}100%{opacity:0;transform:translate(var(--dx),var(--dy))}}

/* One-on-one responsive */
@media(max-width:900px){
  .oo-workspace{grid-template-columns:1fr;min-height:auto}
  .oo-panel{border-right:none;border-bottom:1px solid var(--border)}
  .oo-panel:last-child{border-bottom:none}
  .oo-site-frame{max-height:280px}
  .oo-chat-messages{min-height:200px}
}
@media(max-width:600px){
  .oo-workspace{margin-top:28px;border-radius:10px}
  .oo-panel-title{font-size:6px;letter-spacing:1px}
  .oo-site-hero-text{font-size:16px}
  .oo-site-hero{padding:20px 14px}
  .oo-task-card{font-size:10px;padding:5px 7px}
  .oo-col-header{font-size:6px;padding:6px 8px}
  .oo-chat-msg-bubble{font-size:11px}
  .oo-connection-hint{font-size:6px;gap:8px}
}

/* KANBAN BOARD */
.kb{width:100%;overflow-x:auto;-webkit-overflow-scrolling:touch;padding:16px 0;scrollbar-width:thin;scrollbar-color:var(--border) transparent}
.kb::-webkit-scrollbar{height:6px}
.kb::-webkit-scrollbar-track{background:transparent}
.kb::-webkit-scrollbar-thumb{background:var(--border);border-radius:3px}
/* Modern scrollbars for all chat/scroll containers */
.hc-wrap,.oo-chat-messages,.sl-msgs,.preview{scrollbar-width:thin;scrollbar-color:rgba(124,77,255,0.25) transparent}
.hc-wrap::-webkit-scrollbar,.oo-chat-messages::-webkit-scrollbar,.sl-msgs::-webkit-scrollbar,.preview::-webkit-scrollbar{width:5px}
.hc-wrap::-webkit-scrollbar-track,.oo-chat-messages::-webkit-scrollbar-track,.sl-msgs::-webkit-scrollbar-track,.preview::-webkit-scrollbar-track{background:transparent}
.hc-wrap::-webkit-scrollbar-thumb,.oo-chat-messages::-webkit-scrollbar-thumb,.sl-msgs::-webkit-scrollbar-thumb,.preview::-webkit-scrollbar-thumb{background:rgba(124,77,255,0.25);border-radius:4px}
.hc-wrap::-webkit-scrollbar-thumb:hover,.oo-chat-messages::-webkit-scrollbar-thumb:hover,.sl-msgs::-webkit-scrollbar-thumb:hover,.preview::-webkit-scrollbar-thumb:hover{background:rgba(124,77,255,0.45)}
.kb-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:12px;padding:0 4px;flex-wrap:wrap;gap:8px}
.kb-sprint{font-family:var(--f-m);font-size:11px;color:var(--t3)}
.kb-sprint strong{color:var(--red)}
.kb-stats{display:flex;gap:16px}
.kb-stat{font-family:var(--f-m);font-size:10px;color:var(--t3)}
.kb-stat strong{color:var(--t1)}
.kb-progress{display:flex;align-items:center;gap:8px}
.kb-bar{width:120px;height:5px;background:var(--bg4);border-radius:3px;overflow:hidden}
.kb-bar-fill{height:100%;border-radius:3px;transition:width 1s ease}
.kb-pct{font-family:var(--f-m);font-size:11px;font-weight:700}
.kb-cols{display:flex;gap:10px;min-width:max-content;padding:0 2px 8px}
.kb-col{width:210px;flex-shrink:0;background:var(--bg2);border:1px solid var(--border);border-radius:12px;overflow:hidden}
.kb-col-h{padding:10px 12px;display:flex;align-items:center;justify-content:space-between;border-bottom:1px solid var(--border);position:relative}
.kb-col-h::before{content:'';position:absolute;top:0;left:0;right:0;height:2px;background:var(--col-accent)}
.kb-col-name{font-family:var(--f-m);font-size:10px;font-weight:700;text-transform:uppercase;letter-spacing:.5px;color:var(--col-accent)}
.kb-col-count{font-size:9px;color:var(--col-accent);padding:2px 7px;border-radius:100px;font-family:var(--f-m);font-weight:600}
.kb-cards{padding:6px;display:flex;flex-direction:column;gap:6px;min-height:60px}
.kb-card{background:var(--bg3);border:1px solid var(--border);border-radius:8px;padding:10px;cursor:grab;transition:all .25s;position:relative}
.kb-card:hover{border-color:var(--bh);transform:translateY(-2px);box-shadow:0 4px 16px rgba(0,0,0,0.2)}
.kb-card::before{content:'';position:absolute;left:0;top:6px;bottom:6px;width:3px;border-radius:0 2px 2px 0;background:var(--pri-color)}
.kb-card-title{font-size:11.5px;font-weight:500;color:var(--t1);margin-bottom:6px;padding-left:8px;line-height:1.35}
.kb-card-meta{display:flex;align-items:center;gap:6px;padding-left:8px;flex-wrap:wrap}
.kb-pri{font-family:var(--f-m);font-size:8px;font-weight:700;letter-spacing:.5px;padding:1px 5px;border-radius:3px;color:var(--pri-color)}
.kb-pri.p0{--pri-color:#ff6b6b;background:rgba(239,68,68,0.15)}
.kb-pri.p1{--pri-color:#f59e0b;background:rgba(245,158,11,0.15)}
.kb-pri.p2{--pri-color:#22c55e;background:rgba(34,197,94,0.15)}
.kb-agent{display:flex;align-items:center;gap:4px;font-size:10px;color:var(--t3)}
.kb-agent img{width:18px;height:18px;border-radius:50%;border:1.5px solid var(--agent-color);flex-shrink:0;object-fit:cover}
.kb-card-tag{font-family:var(--f-m);font-size:8px;color:var(--t3);margin-left:auto}
.kb-card-note{font-family:var(--f-m);font-size:8px;color:#ff6b6b;padding-left:8px;margin-top:4px}
.kb-card.done{opacity:.6}
.kb-card.done .kb-card-title{text-decoration:line-through;text-decoration-color:var(--t3)}

/* WAITLIST MODAL */
.wl-overlay{position:fixed;inset:0;background:rgba(0,0,0,0.7);backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px);z-index:10000;display:none;align-items:center;justify-content:center;padding:20px}
.wl-overlay.active{display:flex}
.wl-modal{background:var(--bg2);border:1px solid var(--border);border-radius:20px;padding:40px;max-width:440px;width:100%;position:relative;box-shadow:0 24px 80px rgba(0,0,0,0.5),0 0 60px rgba(124,77,255,0.04);animation:modalIn .35s cubic-bezier(.22,1,.36,1)}
@keyframes modalIn{from{opacity:0;transform:scale(0.92) translateY(16px)}to{opacity:1;transform:scale(1) translateY(0)}}
.wl-close{position:absolute;top:14px;right:14px;background:none;border:none;color:var(--t3);font-size:24px;cursor:pointer;width:32px;height:32px;border-radius:8px;display:flex;align-items:center;justify-content:center;transition:all .2s}
.wl-close:hover{background:var(--bg3);color:var(--t1)}
.wl-header{text-align:center;margin-bottom:24px}
.wl-icon{font-size:44px;margin-bottom:8px;display:block}
.wl-header h3{font-family:var(--f-d);font-size:24px;margin-bottom:6px}
.wl-header p{font-size:14px;color:var(--t2);line-height:1.5}
.wl-form{display:flex;flex-direction:column;gap:12px}
.wl-form input{padding:13px 16px;border-radius:10px;border:1px solid var(--border);background:var(--bg3);color:var(--t1);font-family:var(--f-b);font-size:16px;outline:none;transition:border-color .2s}
.wl-form input:focus{border-color:var(--red)}
.wl-form .btn{width:100%;justify-content:center;padding:14px;font-size:15px}
.wl-note{font-size:11px;color:var(--t3);text-align:center;margin-top:4px}
.wl-success{text-align:center;padding:16px 0;display:none}
.wl-success.show{display:block}
.wl-check{width:64px;height:64px;background:rgba(0,255,136,0.1);border:2px solid var(--green);border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:30px;margin:0 auto 16px;color:var(--green);animation:checkPop .4s cubic-bezier(.22,1,.36,1)}
@keyframes checkPop{from{transform:scale(0)}to{transform:scale(1)}}
.wl-success h3{font-family:var(--f-d);font-size:20px;margin-bottom:6px;color:var(--green)}
.wl-success p{font-size:14px;color:var(--t2);line-height:1.5}

/* COMMUNICATION HUB */
.ch-grid{display:grid;grid-template-columns:260px 1fr;gap:24px;margin-top:48px;max-width:960px;margin-left:auto;margin-right:auto}
.ch-sidebar{background:var(--bg3);border:1px solid var(--border);border-radius:14px;padding:16px 0;overflow:hidden}
.ch-sidebar-h{padding:8px 16px;font-family:var(--f-d);font-size:14px;color:var(--t1);margin-bottom:8px;display:flex;align-items:center;gap:8px}
.ch-cat{padding:4px 16px;margin-top:12px;font-family:var(--f-m);font-size:9px;text-transform:uppercase;letter-spacing:1px;font-weight:700;display:flex;align-items:center;gap:6px}
.ch-cat:first-child{margin-top:0}
.ch-item{padding:4px 16px 4px 28px;font-size:12px;color:var(--t2);cursor:pointer;transition:all .15s;display:flex;align-items:center;gap:6px}
.ch-item:hover{background:rgba(255,255,255,0.03);color:var(--t1)}
.ch-item .ch-hash{color:var(--t3);font-family:var(--f-m);font-size:10px}
.ch-item .ch-badge{margin-left:auto;background:var(--red);color:#fff;font-size:8px;font-family:var(--f-m);font-weight:700;padding:1px 5px;border-radius:100px;min-width:16px;text-align:center}
.ch-features{display:grid;grid-template-columns:1fr 1fr;gap:12px}
.ch-feat{background:var(--bg3);border:1px solid var(--border);border-radius:12px;padding:20px 16px;transition:all .25s}
.ch-feat:hover{border-color:var(--bh);transform:translateY(-2px)}
.ch-feat-icon{font-size:24px;margin-bottom:8px}
.ch-feat h4{font-family:var(--f-d);font-size:13px;margin-bottom:4px}
.ch-feat p{font-size:11px;color:var(--t2);line-height:1.5}

/* HUMAN CHAT */
.hc-wrap{max-width:620px;margin:48px auto 0;background:var(--bg2);border:1px solid var(--border);border-radius:16px;overflow:hidden}
.hc-header{padding:12px 20px;border-bottom:1px solid var(--border);display:flex;align-items:center;gap:10px}
.hc-header-name{font-family:var(--f-d);font-size:13px}
.hc-header-status{font-size:10px;color:var(--green);font-family:var(--f-m)}
.hc-msgs{padding:16px 20px;display:flex;flex-direction:column;gap:14px}
.hc-msg{display:flex;gap:10px;align-items:flex-start}
.hc-av{width:32px;height:32px;border-radius:10px;flex-shrink:0;display:flex;align-items:center;justify-content:center;font-size:14px;font-weight:700;font-family:var(--f-m)}img.hc-av{object-fit:cover}
.hc-bubble{max-width:85%;padding:10px 14px;border-radius:12px;font-size:13px;line-height:1.5;color:var(--t1)}
.hc-bubble.human{background:rgba(59,130,246,0.1);border:1px solid rgba(59,130,246,0.15)}
.hc-bubble.agent{background:var(--bg3);border:1px solid var(--border)}
.hc-bubble .hc-name{font-family:var(--f-m);font-size:10px;font-weight:700;margin-bottom:4px;display:block}
.hc-bubble code{background:rgba(255,255,255,0.06);padding:1px 5px;border-radius:4px;font-family:var(--f-c);font-size:11px}
.hc-time-sep{text-align:center;font-family:var(--f-m);font-size:9px;color:var(--t3);padding:4px 0;position:relative}
.hc-typing{padding:8px 20px;border-top:1px solid var(--border);font-size:11px;color:var(--t3);font-family:var(--f-m)}

/* 4 INTERACTION MODES */
.modes-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:14px;margin-top:48px;max-width:800px;margin-left:auto;margin-right:auto}
.mode-card{background:var(--bg3);border:1px solid var(--border);border-radius:14px;padding:24px 20px;transition:all .3s;position:relative;overflow:hidden;cursor:default}
.mode-card:hover{border-color:var(--bh);transform:translateY(-3px)}
.mode-card::before{content:'';position:absolute;top:0;left:0;right:0;height:3px;background:var(--mode-color)}
.mode-icon{font-size:28px;margin-bottom:10px}
.mode-card h3{font-family:var(--f-d);font-size:16px;margin-bottom:4px;color:var(--mode-color)}
.mode-card .mode-tag{font-family:var(--f-m);font-size:10px;color:var(--t3);margin-bottom:8px;display:block}
.mode-card p{font-size:12px;color:var(--t2);line-height:1.6}
.mode-alert{margin-top:28px;max-width:800px;margin-left:auto;margin-right:auto;background:var(--bg3);border:1px solid var(--border);border-radius:12px;padding:20px 24px}
.mode-alert h4{font-family:var(--f-d);font-size:14px;margin-bottom:8px;color:var(--gold)}
.mode-alert p{font-size:12px;color:var(--t2);line-height:1.6}
.mode-alert code{background:rgba(255,215,0,0.08);color:var(--gold);padding:2px 8px;border-radius:4px;font-family:var(--f-c);font-size:11px}

/* OPENCLAW */
.oc-visual{display:grid;grid-template-columns:1fr auto 1fr;gap:0;align-items:center;margin-top:48px;max-width:800px;margin-left:auto;margin-right:auto}
.oc-machine{background:var(--bg3);border:1px solid var(--border);border-radius:14px;padding:24px 20px;text-align:center}
.oc-machine-icon{font-size:36px;margin-bottom:8px}
.oc-machine h3{font-family:var(--f-d);font-size:15px;margin-bottom:2px}
.oc-machine .oc-os{font-family:var(--f-m);font-size:10px;color:var(--t3);margin-bottom:12px;display:block}
.oc-machine ul{list-style:none;text-align:left}
.oc-machine li{font-size:11px;color:var(--t2);padding:3px 0;display:flex;align-items:center;gap:6px}
.oc-machine li::before{content:'';width:5px;height:5px;border-radius:50%;flex-shrink:0}
.oc-bridge{display:flex;flex-direction:column;align-items:center;gap:4px;padding:0 16px}
.oc-bridge-arrow{font-family:var(--f-m);font-size:20px;color:var(--cyan);letter-spacing:-4px}
.oc-bridge-label{font-family:var(--f-m);font-size:9px;color:var(--t3);text-transform:uppercase;letter-spacing:1px;white-space:nowrap}
.oc-bridge-note{font-size:9px;color:var(--red);font-family:var(--f-m)}

/* CONSTITUTIONAL AI */
.ca-tiers{display:flex;flex-direction:column;gap:10px;margin-top:48px;max-width:720px;margin-left:auto;margin-right:auto}
.ca-tier{display:grid;grid-template-columns:auto 1fr;gap:16px;align-items:center;background:var(--bg3);border:1px solid var(--border);border-radius:12px;padding:16px 20px;transition:all .25s}
.ca-tier:hover{border-color:var(--bh);transform:translateX(4px)}
.ca-tier-num{font-family:var(--f-d);font-size:20px;color:var(--tier-color);width:40px;height:40px;display:flex;align-items:center;justify-content:center;border-radius:10px}
.ca-tier h4{font-family:var(--f-d);font-size:14px;margin-bottom:2px}
.ca-tier p{font-size:11px;color:var(--t2);line-height:1.5}
.ca-rules{display:grid;grid-template-columns:repeat(2,1fr);gap:10px;margin-top:24px;max-width:720px;margin-left:auto;margin-right:auto}
.ca-rule{background:var(--bg3);border:1px solid var(--border);border-radius:10px;padding:14px 16px;display:flex;align-items:flex-start;gap:10px;transition:all .25s}
.ca-rule:hover{border-color:var(--bh);transform:translateY(-2px)}
.ca-rule-icon{font-size:18px;flex-shrink:0;margin-top:1px}
.ca-rule h5{font-family:var(--f-m);font-size:10px;text-transform:uppercase;letter-spacing:.5px;margin-bottom:3px}
.ca-rule p{font-size:11px;color:var(--t2);line-height:1.4}

/* GAMIFICATION */
.gm-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:14px;margin-top:48px;max-width:800px;margin-left:auto;margin-right:auto}
.gm-card{background:var(--bg3);border:1px solid var(--border);border-radius:14px;padding:24px 20px;transition:all .3s;position:relative;overflow:hidden}
.gm-card:hover{border-color:var(--bh);transform:translateY(-3px)}
.gm-card::before{content:'';position:absolute;top:0;left:0;right:0;height:3px;background:var(--gm-color)}
.gm-icon{font-size:28px;margin-bottom:10px}
.gm-card h3{font-family:var(--f-d);font-size:15px;margin-bottom:6px}
.gm-card p{font-size:12px;color:var(--t2);line-height:1.6}
.gm-example{margin-top:10px;font-family:var(--f-c);font-size:10px;color:var(--t3);padding:8px 10px;background:rgba(255,255,255,0.02);border-radius:6px;border:1px solid var(--border)}

/* FOOTER */
footer{padding:48px 0;border-top:1px solid var(--border)}
footer .c{display:flex;justify-content:space-between;align-items:center}
.foot-c{font-size:12px;color:var(--t3);font-family:var(--f-m)}
.foot-l{display:flex;gap:24px;list-style:none}
.foot-l a{font-size:12px;color:var(--t3);text-decoration:none;transition:color .2s}
.foot-l a:hover{color:var(--t2)}

/* RESPONSIVE */
@media(max-width:900px){
  .ag-grid{grid-template-columns:repeat(4,1fr)}
  .kf-grid,.fg{grid-template-columns:1fr}
  .pr-grid{grid-template-columns:1fr;max-width:380px}
  .sec{padding:60px 0}
  .stats .c{gap:32px}
  .ch-grid{grid-template-columns:1fr}
  .dept-grid{grid-template-columns:repeat(2,1fr)!important}
  .modes-grid{grid-template-columns:1fr}
  .gm-grid{grid-template-columns:1fr}
}
/* HAMBURGER MENU */
.hamburger{display:none;background:none;border:none;cursor:pointer;padding:4px;width:32px;height:32px;flex-direction:column;justify-content:center;align-items:center;gap:5px}
.hamburger span{display:block;width:20px;height:2px;background:var(--t1);border-radius:2px;transition:all .3s}
.hamburger.open span:nth-child(1){transform:rotate(45deg) translate(5px,5px)}
.hamburger.open span:nth-child(2){opacity:0}
.hamburger.open span:nth-child(3){transform:rotate(-45deg) translate(5px,-5px)}
.mob-menu{display:none;position:fixed;top:56px;left:0;right:0;background:rgba(10,10,26,0.98);backdrop-filter:blur(24px);border-bottom:1px solid var(--border);padding:20px 24px;flex-direction:column;gap:16px;z-index:99}
.mob-menu.open{display:flex}
.mob-menu a{color:var(--t2);text-decoration:none;font-size:15px;font-weight:500;padding:8px 0;border-bottom:1px solid var(--border);transition:color .2s}
.mob-menu a:hover,.mob-menu a:active{color:var(--t1)}

@media(max-width:600px){
  .ag-grid{grid-template-columns:repeat(3,1fr);gap:14px}
  .ag-card{padding:22px 10px 18px}
  .ag-img-wrap{width:48px;height:48px;margin-bottom:10px}
  .ag-img{width:48px;height:48px;border-radius:12px}
  .ag-name{font-size:10px;margin-bottom:3px}
  .ag-role{font-size:9px}
  .nav-r .nav-a{display:none}
  .nav-r .btn-g{display:none}
  .hamburger{display:flex}
  nav .c{padding:0 12px}
  .logo{gap:6px}
  .logo-icon{width:30px;height:30px;font-size:16px;border-radius:8px}
  .logo-txt{font-size:17px}
  .nav-demo{font-size:7px;padding:1px 4px;margin-left:5px}
  .nav-r{gap:8px}
  .theme-toggle{width:28px;height:28px;font-size:12px;border-radius:6px}
  nav .btn-r{padding:6px 12px;font-size:11px}
  .cta-ig{flex-direction:column}
  footer .c{flex-direction:column;gap:16px}
  .hero{min-height:auto;padding:120px 0 60px}
  .hero-acts{flex-direction:column;align-items:center;gap:12px}
  .hero-acts .btn{width:100%;justify-content:center}
  .hero-sub{font-size:16px}
  .term-body{padding:14px 16px;font-size:11px;min-height:220px}
  .term-wrap{margin:0 -12px}
  .sec{padding:60px 0}
  .sec-t{font-size:28px}
  .sec-s{font-size:15px}
  .stats .c{gap:24px}
  .stat .n{font-size:28px}
  .kf-card{padding:28px 22px}
  .kf-card h3{font-size:20px}
  .sl-wrap{margin:40px -12px 0}
  .pr-card{padding:28px 22px}
  .cta-ig input{width:100%}
  .mockup-wrap{margin:32px -12px 0}
  .tier-bar{display:grid;grid-template-columns:repeat(2,1fr);gap:8px;max-width:320px}
  .opp-notif{top:60px}
  .mockup-wrap img{border-radius:8px}
  .highlight-list{grid-template-columns:1fr}
  .wf-pipe{gap:4px}
  .wf-step{min-width:80px;padding:6px 8px}
  .wf-step-name{font-size:8px}
  .wf-arrow{font-size:10px}
  .task-dump{margin:20px 0}
  .td-header{padding:12px 14px 0;flex-wrap:wrap}
  .td-header-title{font-size:8px}
  .td-input-area{padding:8px 14px}
  .td-textarea{font-size:10px;min-height:80px;padding:10px}
  .td-actions{padding:0 14px 12px;flex-wrap:wrap}
  .td-dispatch-btn{padding:8px 16px;font-size:7px}
  .td-task{padding:8px 10px;gap:6px}
  .td-task-title{font-size:11px}
  .td-task-agent{font-size:8px}
  .td-results{padding:0 14px 12px}
  .kb-col{width:180px}
  .wl-modal{padding:28px 20px}
  .pr-grid{grid-template-columns:1fr!important}
  .ch-grid{grid-template-columns:1fr}
  .ch-features{grid-template-columns:1fr}
  .dept-grid{grid-template-columns:1fr!important}
  .modes-grid{grid-template-columns:1fr}
  .oc-visual{grid-template-columns:1fr;gap:12px}
  .oc-bridge{flex-direction:row;padding:8px 0}
  .oc-bridge-arrow{transform:rotate(90deg)}
  .ca-rules{grid-template-columns:1fr}
  .gm-grid{grid-template-columns:1fr}
}
@media(max-width:380px){
  .ag-grid{grid-template-columns:repeat(2,1fr)}
  .hero-c h1{font-size:32px}
  .c{padding:0 16px}
}

/* OPPORTUNIST NOTIFICATION */
.opp-notif{position:fixed;top:64px;right:20px;z-index:99;max-width:420px;width:calc(100% - 40px);background:var(--bg2);border:1px solid var(--border);border-radius:16px;box-shadow:0 8px 40px rgba(0,0,0,0.4),0 0 0 1px rgba(124,77,255,0.06);padding:18px 20px;transform:translateY(-120%);opacity:0;transition:all .5s cubic-bezier(.34,1.56,.64,1);pointer-events:none}
.opp-notif.show{transform:translateY(0);opacity:1;pointer-events:auto}
.opp-notif-head{display:flex;align-items:center;gap:10px;margin-bottom:10px}
.opp-notif-av{width:36px;height:36px;border-radius:10px;object-fit:cover;border:2px solid rgba(124,77,255,0.4)}
.opp-notif-name{font-family:var(--f-d);font-size:13px;color:var(--t1)}
.opp-notif-time{font-size:11px;color:var(--t3);font-family:var(--f-m);margin-left:auto}
.opp-notif-body{font-size:13.5px;color:var(--t2);line-height:1.6;margin-bottom:14px}
.opp-notif-body strong{color:var(--gold)}
.opp-notif-actions{display:flex;gap:10px;align-items:center}
.opp-notif-btn{padding:7px 16px;border-radius:8px;font-size:12px;font-weight:600;font-family:var(--f-b);cursor:pointer;border:none;transition:all .2s}
.opp-notif-go{background:var(--gold);color:#000;box-shadow:0 0 16px rgba(255,215,0,0.2)}
.opp-notif-go:hover{box-shadow:0 0 24px rgba(255,215,0,0.35);transform:translateY(-1px)}
.opp-notif-dismiss{background:transparent;color:var(--t3);border:1px solid var(--border);padding:7px 12px}
.opp-notif-dismiss:hover{color:var(--t2);border-color:var(--bh)}
.opp-notif-dot{width:8px;height:8px;border-radius:50%;background:var(--gold);position:absolute;top:14px;right:14px;animation:notif-pulse 2s ease-in-out infinite}
@keyframes notif-pulse{0%,100%{opacity:1;box-shadow:0 0 0 0 rgba(255,215,0,0.4)}50%{opacity:.7;box-shadow:0 0 0 6px rgba(255,215,0,0)}}
@media(max-width:600px){.opp-notif{top:58px;right:10px;width:calc(100% - 20px);max-width:none;padding:14px 16px}.opp-notif-body{font-size:12.5px}}
[data-theme="light"] .opp-notif{background:var(--bg2);box-shadow:0 8px 40px rgba(0,0,0,0.12),0 0 0 1px rgba(109,40,217,0.06)}
[data-theme="light"] .opp-notif-go{background:var(--gold);color:#fff}

/* AGENT CHAT POPUPS */
.agent-popup{position:fixed;bottom:24px;right:24px;z-index:199;max-width:340px;width:calc(100% - 48px);background:var(--bg3);border:1px solid var(--border);border-radius:14px;box-shadow:0 6px 32px rgba(0,0,0,0.35);padding:14px 16px;transform:translateX(120%);opacity:0;transition:transform .45s cubic-bezier(.34,1.56,.64,1),opacity .35s ease;pointer-events:none;display:flex;align-items:flex-start;gap:12px}
.agent-popup.show{transform:translateX(0);opacity:1;pointer-events:auto}
.agent-popup-av{width:32px;height:32px;min-width:32px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:14px;font-weight:700;font-family:var(--f-m);color:#fff;text-transform:uppercase;overflow:hidden}
.agent-popup-content{flex:1;min-width:0}
.agent-popup-name{font-family:var(--f-d);font-size:12px;color:var(--t3);margin-bottom:3px;display:flex;align-items:center;gap:6px}
.agent-popup-name span{width:6px;height:6px;border-radius:50%;display:inline-block;animation:ap-pulse 2s ease-in-out infinite}
.agent-popup-msg{font-size:13px;color:var(--t2);line-height:1.5;font-family:var(--f-m)}
@keyframes ap-pulse{0%,100%{opacity:1}50%{opacity:.4}}
@media(max-width:600px){.agent-popup{bottom:14px;right:14px;width:calc(100% - 28px);max-width:none;padding:12px 14px}.agent-popup-msg{font-size:12px}}
[data-theme="light"] .agent-popup{background:var(--bg3);box-shadow:0 6px 32px rgba(0,0,0,0.1)}

/* CONVEYOR BELT */
.conveyor{padding:40px 0;overflow:hidden;position:relative}
.conveyor-label{text-align:center;margin-bottom:20px}
.conveyor-track{position:relative;padding:16px 0}
.conveyor-belt{height:6px;background:var(--bg3);border-radius:3px;position:absolute;bottom:0;left:0;right:0;background-image:repeating-linear-gradient(90deg,transparent,transparent 18px,var(--t3) 18px,var(--t3) 22px);background-size:40px 6px;animation:belt-roll 1.5s linear infinite}
@keyframes belt-roll{0%{background-position:0 0}100%{background-position:40px 0}}
.conveyor-items{display:flex;animation:conveyor-scroll 56s linear infinite;width:max-content;padding-bottom:14px}
@keyframes conveyor-scroll{0%{transform:translateX(0)}100%{transform:translateX(-50%)}}
.conv-item{flex-shrink:0;background:var(--bg2);border:1px solid var(--border);border-radius:10px;padding:10px 18px;margin:0 8px;font-family:var(--f-m);font-size:12px;color:var(--t1);letter-spacing:0.5px;white-space:nowrap;position:relative;box-shadow:0 2px 8px rgba(0,0,0,0.15)}
.conv-item::after{content:'';position:absolute;bottom:-14px;left:50%;transform:translateX(-50%);width:4px;height:14px;background:var(--t3);border-radius:0 0 2px 2px}
.conv-worker{flex-shrink:0;display:flex;align-items:center;justify-content:center;margin:0 6px;animation:crab-bob 1.8s ease-in-out infinite;position:relative;top:-2px}
.conv-av{width:28px;height:28px;border-radius:50%;object-fit:cover;border:2px solid var(--wc);box-shadow:0 0 12px color-mix(in srgb,var(--wc) 40%,transparent)}
@keyframes crab-bob{0%,100%{transform:translateY(0)}50%{transform:translateY(-5px)}}
.conveyor-rail{height:3px;background:linear-gradient(90deg,transparent,var(--t3),transparent);margin-top:2px;border-radius:2px}
.conveyor-feet{display:flex;justify-content:space-between;padding:0 40px;margin-top:0}
.conveyor-foot{width:8px;height:18px;background:var(--bg3);border-radius:0 0 3px 3px;border:1px solid var(--border);border-top:none}
[data-theme="light"] .conv-item{box-shadow:0 2px 8px rgba(0,0,0,0.06)}
[data-theme="light"] .conv-av{box-shadow:0 2px 6px rgba(0,0,0,0.1)}
@media(max-width:600px){
  .conv-item{padding:8px 12px;font-size:10px;margin:0 5px}
  .conv-worker{margin:0 3px}
  .conv-av{width:24px;height:24px}
  .conveyor{padding:28px 0}
  .conveyor-items{animation-duration:40s}
}

/* CONVEYOR BOTTOM TEXT */
.conveyor-bottom{text-align:center;margin-top:20px;padding:0 20px}
.conveyor-dominate{font-size:24px;font-weight:700;color:var(--gold);letter-spacing:2px;margin-bottom:8px}
.conveyor-subtext{font-size:12px;color:var(--t2);font-family:var(--f-m);letter-spacing:0.5px}

/* AGENT SPEECH BUBBLE */
.ag-card[data-bubble]{cursor:pointer}
.ag-bubble{position:fixed;z-index:150;background:var(--bg2);border:1px solid var(--border);border-radius:20px;padding:10px 16px;font-size:12px;color:var(--t1);font-family:var(--f-m);box-shadow:0 8px 32px rgba(0,0,0,0.3);opacity:0;transition:all .3s cubic-bezier(.34,1.56,.64,1);pointer-events:none;max-width:220px;text-align:center;transform:scale(0.5);font-style:italic;line-height:1.4}
.ag-bubble.show{opacity:1;transform:scale(1)}
.ag-bubble::after{content:'';position:absolute;bottom:-7px;left:50%;transform:translateX(-50%);width:14px;height:7px;background:var(--bg2);clip-path:polygon(0 0,100% 0,50% 100%)}
.ag-bubble::before{content:'';position:absolute;bottom:-9px;left:50%;transform:translateX(-50%);width:16px;height:9px;background:var(--border);clip-path:polygon(0 0,100% 0,50% 100%);z-index:-1}
[data-theme="light"] .ag-bubble{box-shadow:0 8px 32px rgba(0,0,0,0.1)}

/* === WOW FACTOR: Character Select === */
.cs-main{display:flex;gap:0;max-width:1300px;margin:10px auto;padding:0 16px;position:relative;z-index:2}
.roster{flex:1}
.roster-title{font-family:var(--f-d);font-size:10px;color:#555;margin-bottom:8px;letter-spacing:2px;padding-left:4px}
.select-grid{display:grid;grid-template-columns:repeat(5,1fr);gap:4px;border:3px solid var(--border);border-radius:10px;padding:4px;background:var(--bg2);box-shadow:0 0 30px rgba(124,77,255,0.08)}
.cell{padding:8px 4px;text-align:center;background:#111125;border:2px solid var(--border);border-radius:6px;cursor:pointer;transition:all .15s;position:relative}
.cell:hover{background:#1a1a40;border-color:rgba(124,77,255,0.27);z-index:2}
.cell.active{background:#1a1a40;border-color:var(--red);box-shadow:0 0 15px rgba(124,77,255,0.3)}
.cell.active::after{content:'';position:absolute;inset:-2px;border:2px solid var(--red);border-radius:6px;animation:selectPulse 1.5s ease infinite}
@keyframes selectPulse{0%,100%{opacity:1}50%{opacity:.4}}
.cell img{width:48px;height:48px;border-radius:10px;margin-bottom:2px;border:2px solid #222;transition:all .15s}
.cell:hover img,.cell.active img{border-color:var(--red)}
.cell .cname{font-family:var(--f-m);font-size:13px;color:#888;transition:color .15s}
.cell:hover .cname,.cell.active .cname{color:#fff}
.cell .new-badge{position:absolute;top:2px;right:2px;background:#e91e63;color:#fff;font-family:var(--f-d);font-size:5px;padding:2px 4px;border-radius:3px;text-transform:uppercase;letter-spacing:1px}
.preview{width:280px;max-width:100%;margin-left:12px;position:sticky;top:20px;align-self:flex-start;box-sizing:border-box}
.preview-box{background:var(--bg2);border:3px solid var(--border);border-radius:14px;overflow:hidden;box-shadow:0 0 30px rgba(0,0,0,0.3);max-width:100%;box-sizing:border-box;position:relative}
.preview-empty{padding:60px 20px;text-align:center}
.preview-empty .arrow{font-size:40px;margin-bottom:10px;animation:bounce 1.5s ease infinite}
@keyframes bounce{0%,100%{transform:translateX(0)}50%{transform:translateX(-10px)}}
.preview-empty p{font-family:var(--f-m);font-size:18px;color:#555}
.pv-header{padding:20px 16px;text-align:center;position:relative}
.pv-header .pv-bg{position:absolute;inset:0;opacity:.15}
.pv-header img{width:100px;height:100px;border-radius:22px;border:4px solid rgba(255,255,255,0.15);position:relative;z-index:1;box-shadow:0 4px 20px rgba(0,0,0,0.3)}
.pv-header .pv-icon{position:absolute;top:10px;right:14px;font-size:24px;z-index:1}
.pv-name{font-family:var(--f-d);font-size:22px;letter-spacing:2px;margin-top:8px;position:relative;z-index:1}
.pv-role{font-family:'Orbitron',sans-serif;font-size:10px;color:var(--red);letter-spacing:2px;text-transform:uppercase;position:relative;z-index:1;margin-top:2px}
.pv-body{padding:16px 16px 20px;overflow:hidden;max-width:100%;box-sizing:border-box}
.preview-box .pv-stats-title,.preview-box .pv-stats,.preview-box .pv-xp-wrap,.preview-box .pv-budget-wrap,.preview-box .pv-desc,.preview-box .pv-info,.preview-box .pv-deploy,.preview-box .pv-agent-mode{box-sizing:border-box}
.pv-desc{font-size:12px;color:var(--t2);line-height:1.5;margin:12px 0;padding:10px 12px;font-family:var(--f-m);background:var(--bg3);border-left:3px solid var(--red);border-radius:0 6px 6px 0}
.pv-stats-title{font-family:var(--f-d);font-size:8px;color:#555;margin-bottom:6px;margin-top:14px;letter-spacing:1px}
.pv-stats{font-family:'JetBrains Mono',monospace;font-size:12px;color:var(--red);line-height:1.4;letter-spacing:1px;overflow:hidden;max-width:100%}
.pv-stats .bar{display:inline-block;color:var(--red)}
.pv-stats .bar-off{color:#3a3a50}
.pv-deploy{display:block;width:auto;padding:14px;border:3px solid var(--red);background:var(--red);color:#fff;font-family:var(--f-d);font-size:14px;letter-spacing:3px;border-radius:10px;cursor:pointer;transition:all .15s;margin-top:16px;margin-bottom:16px;box-shadow:0 4px 0 #4527a0,0 0 15px rgba(124,77,255,0.2);text-transform:uppercase;box-sizing:border-box}
.pv-deploy:hover{transform:translateY(-2px);box-shadow:0 6px 0 #4527a0,0 0 25px rgba(124,77,255,0.3)}
.pv-deploy:active{transform:translateY(3px);box-shadow:none}
.pv-demo-tag{font-family:var(--f-m);font-size:11px;color:var(--t3);text-align:center;letter-spacing:0.5px;padding:2px 0;opacity:0.7}
.cs-bottom{max-width:1300px;margin:20px auto;padding:0 16px 10px;position:relative;z-index:2;display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:8px}
.cs-bottom .cs-info{font-family:var(--f-m);font-size:16px;color:#333;white-space:nowrap}
.cs-bottom .cs-count{font-family:var(--f-d);font-size:9px;color:var(--red);background:var(--bg2);border:2px solid var(--border);padding:8px 14px;border-radius:8px;white-space:nowrap}
.cs-bottom .cs-count em{color:#e91e63;font-style:normal}

/* CS-LOWER: POKE DISPATCH + STATS side by side */
.cs-lower{max-width:1300px;margin:0 auto;padding:16px;display:flex;gap:16px;align-items:stretch}
.cs-lower .task-dump{flex:1;margin:0;border-radius:12px;font-size:0.9em}
.cs-lower .task-dump .td-textarea{min-height:60px;font-size:10px}
.cs-lower .task-dump .td-header{padding:10px 14px 0}
.cs-lower .task-dump .td-dispatch-btn{padding:6px 16px;font-size:8px}
.cs-lower .stats-card{flex:0 0 220px;border:1px solid var(--border);border-radius:12px;background:var(--bg1);padding:16px;display:flex;flex-direction:column;justify-content:center;gap:10px}
.cs-lower .stats-card .sc-row{display:flex;justify-content:space-between;align-items:center}
.cs-lower .stats-card .sc-num{font-family:var(--f-m);font-size:18px;color:var(--gold);font-weight:700}
.cs-lower .stats-card .sc-label{font-family:var(--f-d);font-size:7px;color:var(--t3);letter-spacing:1.5px;text-transform:uppercase}
.cs-lower .stats-card .sc-title{font-family:var(--f-d);font-size:8px;color:var(--t2);letter-spacing:1.5px;text-transform:uppercase;text-align:center;padding-bottom:6px;border-bottom:1px solid var(--border);margin-bottom:2px}

/* Custom Mode Modal */
/* custom-mode-btn styles merged into .cruise-btn,.hitl-btn,.custom-mode-btn above */
.mode-modal-overlay{display:none;position:fixed;inset:0;background:rgba(0,0,0,0.7);z-index:9999;align-items:center;justify-content:center;backdrop-filter:blur(4px)}
.mode-modal-overlay.show{display:flex}
.mode-modal{background:var(--bg2);border:3px solid var(--border);border-radius:16px;padding:32px;max-width:420px;width:90%;text-align:center;box-shadow:0 0 60px rgba(124,77,255,0.2);animation:modalIn .3s ease}
@keyframes modalIn{from{opacity:0;transform:scale(0.9)}to{opacity:1;transform:scale(1)}}
.mode-modal-title{font-family:var(--f-d);font-size:14px;letter-spacing:3px;color:var(--t1);margin-bottom:8px}
.mode-modal-desc{font-family:var(--f-m);font-size:16px;color:var(--t2);margin-bottom:24px}
.mode-options{display:flex;flex-direction:column;gap:12px;margin-bottom:20px}
.mode-modal-close{font-family:var(--f-d);font-size:9px;color:var(--t3);letter-spacing:2px;cursor:pointer;padding:8px 16px;transition:color .2s}
.mode-modal-close:hover{color:var(--t1)}

/* Cruise Control & HITL buttons */
.cs-controls{display:flex;gap:8px;flex-wrap:wrap;justify-content:center;align-items:center;margin-top:12px;padding:8px 0 0;border-top:1px solid var(--border)}
.cruise-btn,.hitl-btn,.custom-mode-btn{flex:1;min-width:0;padding:10px 8px;border-radius:10px;font-family:var(--f-d);font-size:9px;letter-spacing:1px;cursor:pointer;transition:all .2s;border:2px solid;text-transform:uppercase;background:transparent;border-color:#e91e63;color:#e91e63;text-align:center}
.cruise-btn:hover,.hitl-btn:hover,.custom-mode-btn:hover{background:#e91e6333;box-shadow:0 0 15px rgba(233,30,99,0.2)}
.cruise-btn.active,.hitl-btn.active,.custom-mode-btn.active{background:#4caf50;border-color:#4caf50;color:#fff;box-shadow:0 0 15px rgba(76,175,80,0.5)}
.mode-indicator{font-family:var(--f-m);font-size:14px;color:#555;display:flex;align-items:center;gap:8px;width:100%;justify-content:center}
.mode-dot{width:8px;height:8px;border-radius:50%;display:inline-block}
.mode-dot.cruise{background:#e91e63;animation:dotPulse 1s ease infinite}
.mode-dot.hitl{background:#43a047}
.mode-dot.custom{background:#f59e0b;animation:dotPulse 1.5s ease infinite}
@keyframes dotPulse{0%,100%{opacity:1}50%{opacity:.3}}
.cs-batch-controls{display:flex;gap:6px;justify-content:center;margin-top:8px}
.batch-select-btn{padding:8px 16px;border-radius:8px;font-family:var(--f-d);font-size:9px;letter-spacing:1.5px;cursor:pointer;transition:all .2s;border:2px solid #f59e0b;color:#f59e0b;background:transparent;text-transform:uppercase}
.batch-select-btn:hover{background:rgba(245,158,11,0.15);box-shadow:0 0 12px rgba(245,158,11,0.3)}
.batch-select-btn.active{background:#f59e0b;color:#000;box-shadow:0 0 15px rgba(245,158,11,0.4)}
.batch-deploy-btn{padding:8px 16px;border-radius:8px;font-family:var(--f-d);font-size:9px;letter-spacing:1.5px;cursor:pointer;transition:all .2s;border:2px solid #4caf50;color:#fff;background:#4caf50;text-transform:uppercase;box-shadow:0 0 10px rgba(76,175,80,0.3)}
.batch-deploy-btn:hover{background:#43a047;box-shadow:0 0 20px rgba(76,175,80,0.5)}
.batch-all-btn{padding:8px 12px;border-radius:8px;font-family:var(--f-d);font-size:9px;letter-spacing:1.5px;cursor:pointer;transition:all .2s;border:2px solid var(--t3);color:var(--t3);background:transparent;text-transform:uppercase}
.batch-all-btn:hover{background:rgba(255,255,255,0.1)}
.cell.batch-selected{outline:3px solid #f59e0b;outline-offset:-3px;box-shadow:0 0 15px rgba(245,158,11,0.4)}
.cell .batch-check{position:absolute;top:2px;right:2px;width:14px;height:14px;border-radius:50%;background:#f59e0b;color:#000;font-size:9px;font-weight:bold;display:none;align-items:center;justify-content:center;z-index:5}
.cell.batch-selected .batch-check{display:flex}

@media(max-width:900px){
  .cs-main{flex-direction:row}
  .preview{width:240px;min-width:240px;margin-left:8px;position:sticky;top:70px;align-self:flex-start}
  .select-grid{grid-template-columns:repeat(4,1fr)}
}
@media(max-width:650px){
  .cs-main{flex-direction:column}
  .preview{width:100%;min-width:unset;margin-left:0;margin-top:12px;position:static !important;top:auto !important}
  .cs-lower{flex-direction:column}
  .cs-lower .stats-card{flex:none;width:100%}
}
@media(max-width:550px){
  .select-grid{grid-template-columns:repeat(4,1fr);gap:3px;padding:3px}
  .cell{padding:6px 3px;border-width:1.5px;border-radius:5px}
  .cell img{width:42px;height:42px;border-radius:8px;border-width:1.5px;object-fit:cover}
  .cell .cname{font-size:9px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:60px}
  .cell-lv{font-size:6px}
  .preview{display:none !important;position:fixed !important;left:50% !important;right:auto !important;top:80px !important;bottom:auto !important;transform:translateX(-50%);z-index:9998;margin:0;width:calc(100% - 16px);max-width:420px;height:auto;max-height:80vh;background:rgba(0,0,0,0.92);backdrop-filter:blur(6px);overflow-y:auto;border-radius:12px;padding:8px;box-sizing:border-box}
  .preview.mobile-open{display:block !important}
  .preview-box{border-width:1px;border-radius:8px;overflow:visible}
  .preview .pv-header{padding:14px 12px 8px}
  .preview .pv-header img{width:48px;height:48px;border-radius:10px;border-width:2px}
  .preview .pv-header .pv-icon{font-size:16px}
  .preview .pv-name{font-size:11px;letter-spacing:1px;margin-top:4px}
  .preview .pv-role{font-size:8px;letter-spacing:1px}
  .preview .pv-status{font-size:6px;padding:2px 6px}
  .preview .pv-bubble{font-size:9px;padding:5px 9px;max-width:140px;border-radius:10px;border-width:1px;margin-right:6px}
  .preview .pv-body{padding:12px 12px 20px}
  .preview .pv-select-row{margin:5px 0}
  .preview .pv-select{font-size:8px;padding:2px 4px}
  .preview .pv-select-label{font-size:6px}
  .preview .pv-subagent-desc{font-size:8px;padding:3px 6px;margin:1px 0 6px}
  .preview .pv-desc{font-size:10px;padding:8px 10px;margin:10px 0;border-left-width:2px}
  .preview .pv-info{font-size:9px;margin-bottom:4px;padding:0 6px}
  .preview .pv-stats-title{font-size:6px;margin-bottom:4px;margin-top:10px}
  .preview .pv-stat-label{font-size:8px;width:24px}
  .preview .pv-stat-num{font-size:10px}
  .preview .pv-stats-row{margin-bottom:3px;gap:4px}
  .preview .pv-stats-legend{font-size:7px;margin-bottom:4px}
  .preview .pv-xp-wrap{margin-bottom:4px}
  .preview .pv-xp-bar{height:6px}
  .preview .pv-xp-fill{height:6px}
  .preview .pv-xp-text{font-size:6px}
  .preview .pv-meta{gap:6px;margin-bottom:8px}
  .preview .pv-meta-item{padding:3px 4px}
  .preview .pv-meta-label{font-size:5px}
  .preview .pv-meta-val{font-size:11px}
  .preview .pv-budget-wrap{margin:4px 0}
  .preview .pv-budget-slider{height:4px}
  .preview .pv-budget-val{font-size:9px}
  .preview .pv-agent-mode{font-size:8px}
  .preview .mode-agent-btn{padding:4px 8px;font-size:8px}
  .preview .pv-deploy{font-size:8px;padding:8px;letter-spacing:1px;border-width:2px;border-radius:6px;margin-top:12px;margin-bottom:8px;box-shadow:none}
  .preview .pv-token-calc{padding:6px 8px;margin:4px 0}
  .preview .pv-token-calc-row .tc-label{font-size:6px}
  .preview .pv-token-calc-row .tc-val{font-size:9px}
  .preview .pv-project-select{font-size:8px;padding:4px 6px}
  .preview .pv-project-branch{font-size:6px}
  .mobile-close-btn{display:block !important;position:fixed;top:8px;right:8px;z-index:9999;background:var(--red);color:#fff;border:none;border-radius:50%;width:32px;height:32px;font-size:18px;cursor:pointer;box-shadow:0 0 20px rgba(124,77,255,0.4)}
  .tier-bar{gap:4px}
  .tier-btn{padding:6px 10px;font-size:7px;letter-spacing:1px}
  .cs-controls{gap:8px;margin-top:8px}
  .cruise-btn,.hitl-btn,.custom-mode-btn{padding:6px 4px;font-size:6px;letter-spacing:0.5px}
  .mode-indicator{margin-left:0;justify-content:center}
  .cs-batch-controls{margin-top:6px;gap:4px}
  .batch-select-btn,.batch-deploy-btn,.batch-all-btn{padding:6px 10px;font-size:7px;letter-spacing:1px}
}



/* Agent info & meta in preview */
.pv-info{font-size:11px;color:#6b7394;line-height:1.4;margin-bottom:10px;padding:0 10px;font-family:var(--f-m);font-style:italic}
.pv-meta{display:flex;gap:10px;margin-bottom:12px}
.pv-meta-item{flex:1;background:var(--bg3);border:1px solid var(--border);border-radius:8px;padding:8px 10px;text-align:center}
.pv-meta-label{display:block;font-family:var(--f-d);font-size:6px;color:#555;letter-spacing:1px;margin-bottom:4px}
.pv-meta-val{font-family:var(--f-m);font-size:16px;color:var(--t1)}
.pv-meta-val.effort-low{color:#4caf50}
.pv-meta-val.effort-max{color:#e91e63}
.pv-meta-val.effort-high{color:var(--red)}
.pv-meta-val.effort-medium{color:var(--gold)}

/* Speech bubble in preview */
.pv-av-wrap{position:relative;display:inline-block}
.pv-bubble{position:absolute;z-index:50;background:#1a1a40;border:2px solid var(--red);border-radius:16px;padding:8px 14px;font-family:var(--f-m);font-size:11px;color:#fff;max-width:200px;opacity:0;transform:scale(0.85) translateY(-50%);transition:all .3s cubic-bezier(0.34,1.56,0.64,1);box-shadow:0 8px 28px rgba(124,77,255,0.3);white-space:normal;line-height:1.3;text-align:left;left:-220px;top:50%;margin-right:0;pointer-events:none}
.pv-bubble::before{content:'';position:absolute;right:-8px;top:50%;transform:translateY(-50%);width:0;height:0;border-top:8px solid transparent;border-bottom:8px solid transparent;border-left:8px solid var(--red)}
.pv-bubble::after{content:'';position:absolute;right:-4px;top:50%;transform:translateY(-50%);width:0;height:0;border-top:6px solid transparent;border-bottom:6px solid transparent;border-left:6px solid #1a1a40}
.pv-bubble.show{opacity:1;transform:scale(1) translateY(0);pointer-events:auto}
.pv-bubble:empty{display:none}


/* Wiki */
.hiw-step{flex:1;min-width:220px;max-width:280px;background:var(--bg2);border:2px solid var(--border);border-radius:16px;padding:28px 20px;text-align:center;transition:all .3s;position:relative}
.hiw-step:hover{border-color:var(--red);transform:translateY(-4px);box-shadow:0 8px 32px rgba(124,77,255,0.15)}
.hiw-num{font-family:var(--f-d);font-size:48px;color:var(--red);opacity:0.15;position:absolute;top:8px;right:14px;letter-spacing:-2px}
.hiw-icon{font-size:36px;margin-bottom:12px}
.hiw-title{font-family:var(--f-d);font-size:14px;letter-spacing:3px;color:var(--t1);margin-bottom:8px}
.hiw-desc{font-family:var(--f-m);font-size:14px;color:var(--t2);line-height:1.6}
/* ===== TIER SELECTOR ===== */
.tier-bar{display:flex;gap:6px;justify-content:center;max-width:1300px;margin:0 auto 6px;padding:0 16px;align-items:center;flex-wrap:wrap}
.tier-btn{padding:8px 18px;border:2px solid var(--border);background:var(--bg2);color:var(--t2);font-family:var(--f-d);font-size:9px;letter-spacing:2px;border-radius:8px;cursor:pointer;transition:all .2s;text-transform:uppercase}
.tier-btn:hover{border-color:var(--red);color:var(--t1)}
.tier-btn.active{background:var(--red);border-color:var(--red);color:#fff;box-shadow:0 0 15px rgba(124,77,255,0.3)}
.tier-btn.tier-free{--tc:#22c55e}.tier-btn.tier-free.active{background:#22c55e;border-color:#22c55e;box-shadow:0 0 15px rgba(34,197,94,0.3)}
.tier-btn.tier-pro{--tc:#3b82f6}.tier-btn.tier-pro.active{background:#3b82f6;border-color:#3b82f6;box-shadow:0 0 15px rgba(59,130,246,0.3)}
.tier-btn.tier-power{--tc:#f59e0b}.tier-btn.tier-power.active{background:#f59e0b;border-color:#f59e0b;color:#111;box-shadow:0 0 15px rgba(245,158,11,0.3)}
.tier-btn.tier-max{--tc:#e91e63}.tier-btn.tier-max.active{background:#e91e63;border-color:#e91e63;box-shadow:0 0 15px rgba(233,30,99,0.3)}
.tier-info{font-family:var(--f-m);font-size:12px;color:var(--t3);text-align:center;margin-bottom:10px}

/* ===== CELL STATS (in grid) ===== */
.cell-lv{font-family:var(--f-d);font-size:7px;color:var(--gold);letter-spacing:1px;margin-top:2px}
.cell-active-dot{position:absolute;top:4px;left:4px;width:8px;height:8px;border-radius:50%;background:#00b8d4;box-shadow:0 0 6px #00b8d4,0 0 12px rgba(0,184,212,0.4);animation:activePulse 2s infinite;transition:all .3s}
.cell-active-dot.deployed{width:10px;height:10px;top:3px;left:3px}
@keyframes activePulse{0%,100%{opacity:1}50%{opacity:.5}}
.cell-active-dot.deployed{background:#4ade80;box-shadow:0 0 10px #4ade80,0 0 22px rgba(74,222,128,0.8),0 0 40px rgba(74,222,128,0.5),0 0 60px rgba(74,222,128,0.2);animation:deployedPulse 1.5s infinite}
@keyframes deployedPulse{0%,100%{opacity:1;box-shadow:0 0 10px #4ade80,0 0 22px rgba(74,222,128,0.8),0 0 40px rgba(74,222,128,0.5)}50%{opacity:.85;box-shadow:0 0 14px #4ade80,0 0 30px rgba(74,222,128,1),0 0 50px rgba(74,222,128,0.6)}}

/* Tier border colors on grid cells */
/* Color borders removed - use standard border */
.cell.t-cmd{border-color:var(--border)}
.cell.t-silver{border-color:var(--border)}
.cell.t-pipe{border-color:var(--border)}
.cell.t-side{border-color:var(--border);opacity:1}

/* ===== XP BAR (in cell) ===== */

.xp-bar{height:4px;background:#1a1a3a;border-radius:2px;overflow:hidden;margin-bottom:2px}
.xp-fill{height:100%;background:linear-gradient(90deg,var(--gold),#f59e0b);border-radius:2px;transition:width .5s ease}
.xp-lv{font-family:var(--f-d);font-size:6px;color:var(--gold);letter-spacing:1px}
[data-theme="light"] .xp-bar{background:#e5e0f0}
[data-theme="light"] .xp-lv{color:#b45309}

/* ===== DISABLED CELL ===== */
.cell.disabled{opacity:.35;pointer-events:none;filter:grayscale(0.8)}
.cell.disabled img{filter:grayscale(1)}
.cell.disabled .cname{color:#444}


/* ===== MODEL SELECTOR in preview ===== */
.pv-model-select{display:flex;gap:6px;margin:6px 0;justify-content:center;flex-wrap:wrap}
.model-btn{padding:6px 12px;border:2px solid var(--border);background:var(--bg3);color:var(--t2);font-family:var(--f-d);font-size:9px;letter-spacing:1.5px;border-radius:6px;cursor:pointer;transition:all .2s;text-transform:uppercase}
.model-btn:hover{border-color:var(--red);color:var(--t1)}
.model-btn.active{background:var(--red);border-color:var(--red);color:#fff;box-shadow:0 0 10px rgba(124,77,255,0.25)}
.model-btn.recommended{border-color:var(--gold);box-shadow:0 0 8px rgba(245,158,11,0.2)}
.model-btn:disabled{opacity:.3;pointer-events:none}

/* ===== PREVIEW STATS (larger) ===== */
.pv-stats-row{display:flex;align-items:center;gap:8px;margin-bottom:2px;transition:all .3s;max-width:100%;overflow:hidden}
.pv-stat-label{font-family:'JetBrains Mono',monospace;font-size:11px;color:var(--t2);width:32px;text-align:right}
.pv-stat-bar{flex:1;min-width:0}
.pv-stats-legend{font-family:var(--f-m);font-size:9px;color:#8a8aa0;line-height:1.6;margin-bottom:4px;margin-top:2px;padding:6px 8px;background:rgba(255,255,255,0.03);border-radius:4px}
.stat-bar-track{width:100%;height:12px;background:rgba(255,255,255,0.1);border-radius:2px;overflow:hidden;border:1px solid rgba(255,255,255,0.15);max-width:100%;box-sizing:border-box}
.stat-bar-fill{height:100%;border-radius:1px;transition:width 0.6s cubic-bezier(0.4,0,0.2,1);box-shadow:0 0 8px currentColor}
.pv-stat-bar .bar{color:var(--red)}
.pv-stat-bar .bar-off{color:#3a3a50}
.pv-stat-bar .bar-bonus{color:var(--gold)}
.pv-stat-num{font-family:var(--f-d);font-size:12px;color:var(--t2);width:16px;text-align:center}
.stat-change{animation:statFlash .4s ease}
@keyframes statFlash{0%{text-shadow:0 0 12px var(--red)}100%{text-shadow:none}}

/* ===== XP in preview ===== */
.pv-xp-wrap{margin:8px 0}
.pv-xp-bar{height:8px;background:#1a1a3a;border-radius:4px;overflow:hidden;margin-bottom:4px;max-width:100%;box-sizing:border-box}
.pv-xp-fill{height:100%;background:linear-gradient(90deg,var(--gold),#f59e0b);border-radius:4px;transition:width .6s ease}
.pv-xp-text{display:flex;justify-content:space-between;font-family:var(--f-d);font-size:8px;color:var(--gold);letter-spacing:1px}
[data-theme="light"] .pv-xp-bar{background:#e5e0f0}

/* ===== TOKEN BUDGET in preview ===== */
.pv-budget-wrap{margin:6px 0}
.pv-budget-label{font-family:var(--f-d);font-size:7px;color:#555;letter-spacing:1px;margin-bottom:4px}
.pv-budget-wrap>div{max-width:100%;overflow:hidden}
.pv-budget-slider{-webkit-appearance:none;appearance:none;width:100%;height:6px;border-radius:3px;background:#1a1a3a;outline:none;max-width:100%;box-sizing:border-box;flex:1;min-width:0}
.pv-budget-slider::-webkit-slider-thumb{-webkit-appearance:none;width:14px;height:14px;border-radius:50%;background:var(--gold);cursor:pointer;border:2px solid #fff;box-shadow:0 0 6px rgba(245,158,11,0.4)}
.pv-budget-val{font-family:'JetBrains Mono',monospace;font-size:11px;color:var(--gold);margin-left:8px}
.pv-budget-track{position:relative;flex:1;min-width:0}
.pv-budget-ticks{position:absolute;top:0;left:0;right:0;height:100%;pointer-events:none;z-index:0}
.pv-budget-ticks span{position:absolute;top:-1px;width:1px;height:8px;background:rgba(255,255,255,0.15)}
.pv-budget-rec{position:absolute;top:-4px;width:3px;height:14px;background:var(--cyan);border-radius:2px;pointer-events:none;z-index:2;box-shadow:0 0 6px rgba(0,229,255,0.5)}
.pv-budget-rec-label{position:absolute;top:18px;left:0;transform:translateX(-50%);font-family:var(--f-d);font-size:6px;color:var(--cyan);letter-spacing:0.5px;white-space:nowrap;pointer-events:none;text-shadow:0 0 4px rgba(0,229,255,0.4)}

/* ===== TOKEN CALC ===== */
.pv-token-calc{margin:8px 0;padding:8px 10px;background:rgba(255,255,255,0.03);border:1px solid var(--border);border-radius:6px}
.pv-token-calc-row{display:flex;justify-content:space-between;align-items:center;font-family:'JetBrains Mono',monospace;font-size:10px;color:var(--t2);padding:2px 0}
.pv-token-calc-row .tc-label{font-family:var(--f-d);font-size:7px;color:#555;letter-spacing:1px;text-transform:uppercase}
.pv-token-calc-row .tc-val{color:var(--gold);font-size:11px}
.pv-token-calc-row .tc-val.tc-green{color:#4ade80}
.pv-token-calc-row .tc-val.tc-red{color:#ef4444}
/* ===== PROJECT SELECTOR ===== */
.pv-project-select{width:100%;padding:6px 8px;background:var(--bg3);border:1.5px solid var(--border);border-radius:5px;color:var(--t1);font-family:var(--f-d);font-size:9px;letter-spacing:1px;cursor:pointer;margin-bottom:4px;-webkit-appearance:none;appearance:none;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 24 24' fill='none' stroke='%23888' stroke-width='2'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E");background-repeat:no-repeat;background-position:right 8px center}
.pv-project-branch{font-family:var(--f-d);font-size:7px;color:var(--cyan);letter-spacing:0.5px;padding:2px 6px;background:rgba(0,229,255,0.08);border-radius:3px;display:inline-block;margin-top:2px}
/* ===== STATUS BADGE ===== */
.pv-status{display:inline-block;padding:3px 8px;border-radius:4px;font-family:var(--f-d);font-size:7px;letter-spacing:1px;text-transform:uppercase;margin-top:4px}
.pv-status.active{background:#22c55e22;color:#22c55e;border:1px solid #22c55e44}
.pv-status.idle{background:#f59e0b22;color:#f59e0b;border:1px solid #f59e0b44}
.pv-status.sleeping{background:#64748b22;color:#64748b;border:1px solid #64748b44}

/* ===== ADJUST CELL SIZE for stats ===== */

.select-grid{grid-template-columns:repeat(5,1fr);gap:3px}
@media(max-width:900px){.select-grid{grid-template-columns:repeat(4,1fr)}}
@media(max-width:550px){.select-grid{grid-template-columns:repeat(4,1fr)}}
.hc-wrap.sl-style{border:1px solid var(--border);border-radius:16px;overflow:hidden}
.hc-wrap.sl-style .sl-h{padding:12px 18px;background:var(--bg3);border-bottom:1px solid var(--border);display:flex;align-items:center;gap:8px}
.hc-wrap.sl-style .sl-msgs{padding:12px;max-height:340px;overflow-y:auto}
.sl-reply{margin-left:42px;border-left:2px solid var(--border);padding-left:12px}
.sl-reply .sl-av{width:24px;height:24px;border-radius:6px}
.sl-reply .sl-n{font-size:12px}
.sl-reply .sl-txt{font-size:12px}
.pv-agent-mode{display:flex;gap:8px;margin:8px 0}
.mode-agent-btn{flex:1;padding:8px;border:2px solid #e91e63;background:transparent;color:#e91e63;font-family:var(--f-d);font-size:8px;letter-spacing:1.5px;border-radius:6px;cursor:pointer;transition:all .2s;text-transform:uppercase}
.mode-agent-btn:hover{background:#e91e6322;box-shadow:0 0 8px rgba(233,30,99,0.2)}
.mode-agent-btn.active{background:#4caf50;color:#fff;border-color:#4caf50;box-shadow:0 0 10px rgba(76,175,80,0.4)}
.mode-agent-btn.active:hover{background:#43a047;box-shadow:0 0 12px rgba(76,175,80,0.5)}

@keyframes lvlPulse{0%,100%{text-shadow:0 0 5px var(--gold)}50%{text-shadow:0 0 15px var(--gold),0 0 25px rgba(255,215,0,0.3)}}

@keyframes crownFloat{0%,100%{transform:translateY(0)}50%{transform:translateY(-6px)}}

.pv-select-row{display:flex;align-items:center;gap:8px;margin:6px 0;max-width:100%;overflow:hidden}
.pv-select-label{font-family:var(--f-d);font-size:7px;letter-spacing:1.5px;color:var(--t3);min-width:52px;width:52px;flex-shrink:0;text-align:right}
.pv-select{padding:4px 6px;background:var(--bg3);border:1.5px solid var(--border);color:var(--t1);font-family:var(--f-d);font-size:9px;letter-spacing:1px;border-radius:5px;cursor:pointer;outline:none;box-sizing:border-box;min-width:0}
.pv-select:focus{border-color:var(--red)}
.pv-select option{background:var(--bg2);color:var(--t1)}
.pv-subagent-desc{font-family:var(--f-m);font-size:9px;color:var(--t3);background:rgba(124,77,255,0.08);border:1px solid rgba(124,77,255,0.2);border-radius:6px;padding:5px 8px;margin:2px 0 8px;line-height:1.3;max-width:100%;box-sizing:border-box}
